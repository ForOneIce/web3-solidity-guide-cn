<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SafeDeposit å®‰å…¨ä¿ç®¡ç®± - Solidityå­¦ä¹ </title>
    <link href="https://fonts.googleapis.com/css2?family=Gochi+Hand&family=Reenie+Beanie&family=Comic+Neue:ital,wght@0,400;0,700;1,400&family=Fira+Code&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/atom-one-dark.min.css">
    <style>
        :root {
            --primary: #4361ee;
            --secondary: #3f37c9;
            --accent: #4cc9f0;
            --light: #f8f9fa;
            --dark: #212529;
            --easy: #43AA8B;
            --medium: #F8961E;
            --hard: #E71D36;
            --expert: #7209B7;
            --warm-brown: #8B7355;
            --parchment: #F5F1E6;
            --vintage-blue: #6B8E9F;
            --warm-red: #C44536;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Comic Neue', cursive;
            background: linear-gradient(135deg, #f5f7fa 0%, #e4edf9 100%);
            color: var(--dark);
            line-height: 1.8;
            background-image: radial-gradient(#d0e3ff 1px, transparent 1px);
            background-size: 30px 30px;
        }
        
        .nav-bar {
            background: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 15px 20px;
            position: sticky;
            top: 0;
            z-index: 1000;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .nav-left {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .back-btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 8px 20px;
            border-radius: 10px;
            font-family: 'Comic Neue', cursive;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .back-btn:hover {
            background: var(--secondary);
            transform: translateX(-3px);
        }
        
        .nav-title {
            font-family: 'Gochi Hand', cursive;
            font-size: 1.3rem;
            color: var(--secondary);
        }
        
        .nav-right {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .nav-btn {
            background: white;
            border: 2px solid var(--primary);
            color: var(--primary);
            padding: 5px 15px;
            border-radius: 8px;
            font-family: 'Comic Neue', cursive;
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
        }
        
        .nav-btn:hover {
            background: var(--primary);
            color: white;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 30px 20px;
        }
        
        .hero-section {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 5px 5px 20px rgba(0,0,0,0.1);
            margin-bottom: 30px;
            border-top: 5px solid var(--accent);
        }
        
        .hero-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .hero-title {
            flex: 1;
            min-width: 250px;
        }
        
        .day-badge {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 8px 20px;
            border-radius: 15px;
            font-family: 'Gochi Hand', cursive;
            font-size: 1.2rem;
            margin-bottom: 10px;
            display: inline-block;
        }
        
        h1 {
            font-family: 'Gochi Hand', cursive;
            font-size: 2.8rem;
            color: var(--secondary);
            margin-bottom: 10px;
        }
        
        .subtitle {
            font-size: 1.2rem;
            color: #666;
            margin-bottom: 20px;
        }
        
        .meta-tags {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            align-items: center;
        }
        
        .difficulty-badge {
            padding: 8px 20px;
            border-radius: 20px;
            font-weight: bold;
            color: white;
            font-size: 1rem;
        }
        
        .tag {
            background: var(--light);
            padding: 5px 15px;
            border-radius: 15px;
            color: var(--secondary);
            font-size: 0.9rem;
        }
        
        .section {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 25px;
            box-shadow: 3px 3px 10px rgba(0,0,0,0.1);
        }
        
        .section-title {
            font-family: 'Gochi Hand', cursive;
            font-size: 2rem;
            color: var(--secondary);
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px dashed var(--accent);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .key-points {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .key-point {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            padding: 15px;
            border-radius: 10px;
            border-left: 4px solid var(--accent);
        }
        
        .key-point-title {
            font-weight: bold;
            color: var(--primary);
            margin-bottom: 5px;
        }
        
        .concept-card {
            background: linear-gradient(135deg, #fff5f5, #ffe6e6);
            border-left: 5px solid var(--hard);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }
        
        .concept-card.important {
            background: linear-gradient(135deg, #fff9e6, #ffedd5);
            border-left-color: var(--medium);
        }
        
        .concept-card.tip {
            background: linear-gradient(135deg, #e6f7ff, #d6f0ff);
            border-left-color: var(--primary);
        }
        
        .concept-title {
            font-family: 'Gochi Hand', cursive;
            font-size: 1.4rem;
            color: var(--secondary);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        pre {
            background: #282c34;
            border-radius: 10px;
            padding: 20px;
            overflow-x: auto;
            margin: 15px 0;
            box-shadow: inset 0 2px 10px rgba(0,0,0,0.3);
        }
        
        code {
            font-family: 'Fira Code', monospace;
            font-size: 0.9rem;
            line-height: 1.6;
            color: #f8f8f2;
        }
        
        .inline-code {
            background: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Fira Code', monospace;
            color: var(--hard);
            font-size: 0.9em;
        }
        
        .warning-box {
            background: #fff3cd;
            border-left: 5px solid #ffc107;
            padding: 15px 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
        
        .warning-box strong {
            color: #ff6b35;
        }
        
        .success-box {
            background: #d4edda;
            border-left: 5px solid #28a745;
            padding: 15px 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
        
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .comparison-table th {
            background: var(--primary);
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: bold;
        }
        
        .comparison-table td {
            padding: 12px 15px;
            border-bottom: 1px solid #e9ecef;
        }
        
        .comparison-table tr:hover {
            background: #f8f9fa;
        }
        
        .steps-list {
            counter-reset: step-counter;
            list-style: none;
            padding-left: 0;
        }
        
        .steps-list li {
            counter-increment: step-counter;
            margin-bottom: 20px;
            padding-left: 60px;
            position: relative;
        }
        
        .steps-list li::before {
            content: counter(step-counter);
            position: absolute;
            left: 0;
            top: 0;
            background: var(--accent);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-family: 'Gochi Hand', cursive;
            font-size: 1.2rem;
        }
        
        .navigation-footer {
            display: flex;
            justify-content: space-between;
            margin-top: 40px;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .nav-footer-btn {
            flex: 1;
            min-width: 200px;
            background: white;
            border: 3px solid var(--primary);
            padding: 20px;
            border-radius: 15px;
            text-decoration: none;
            color: var(--dark);
            transition: all 0.3s;
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .nav-footer-btn:hover {
            background: var(--primary);
            color: white;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .nav-footer-label {
            font-size: 0.9rem;
            opacity: 0.8;
        }
        
        .nav-footer-title {
            font-family: 'Gochi Hand', cursive;
            font-size: 1.3rem;
        }        
        /* å‚è€ƒç­”æ¡ˆæ¨¡å—æ ·å¼ - æ¸©æš–æ²»æ„ˆé£æ ¼ */
        .answer-reference {
            position: relative;
            margin: 60px 0 30px;
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .envelope-container {
            position: relative;
            width: 340px;
            height: 240px;
            cursor: pointer;
            perspective: 1200px;
            margin-bottom: 20px;
            filter: drop-shadow(0 10px 20px rgba(139, 115, 85, 0.2));
        }
        
        .envelope {
            position: absolute;
            width: 100%;
            height: 100%;
            transform-style: preserve-3d;
            transition: transform 1s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }
        
        .envelope-front, .envelope-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        
        .envelope-front {
            background: linear-gradient(135deg, #f9f3e9, #e8dfd1);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            border: 1px solid #d4c9b8;
        }
        
        .envelope-flap {
            position: absolute;
            top: -70px;
            width: 0;
            height: 0;
            border-left: 170px solid transparent;
            border-right: 170px solid transparent;
            border-bottom: 70px solid #e8dfd1;
            z-index: 1;
            filter: drop-shadow(0 2px 3px rgba(0,0,0,0.1));
        }
        
        .envelope-flap::after {
            content: "";
            position: absolute;
            top: 3px;
            left: -170px;
            width: 0;
            height: 0;
            border-left: 170px solid transparent;
            border-right: 170px solid transparent;
            border-bottom: 67px solid #f9f3e9;
        }
        
        .envelope-seal {
            position: absolute;
            bottom: 25px;
            right: 35px;
            width: 70px;
            height: 70px;
            background: radial-gradient(circle at 30% 30%, #C44536, #8B2E24);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            z-index: 2;
            border: 2px solid #A52A2A;
        }
        
        .seal-icon {
            color: #F5F1E6;
            font-size: 1.8rem;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.3);
        }
        
        .envelope-text {
            font-family: 'Reenie Beanie', cursive;
            font-size: 2.4rem;
            color: var(--warm-brown);
            z-index: 2;
            position: relative;
            margin-top: 20px;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
            letter-spacing: 1px;
        }
        
        .envelope-pattern {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                radial-gradient(circle at 15% 25%, rgba(139, 115, 85, 0.05) 3px, transparent 3px),
                radial-gradient(circle at 85% 75%, rgba(139, 115, 85, 0.05) 3px, transparent 3px);
            background-size: 40px 40px;
            z-index: 0;
        }
        
        .envelope-back {
            background: linear-gradient(135deg, #f5f1e6, #e8dfd1);
            transform: rotateY(180deg);
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid #d4c9b8;
        }
        
        .envelope-container:hover .envelope {
            transform: rotateY(10deg) translateY(-5px);
        }
        
        .envelope-container.open .envelope {
            transform: rotateY(180deg);
        }
        
        .envelope-hint {
            font-family: 'Gochi Hand', cursive;
            font-size: 1.3rem;
            color: var(--warm-brown);
            margin-top: 15px;
            opacity: 0.9;
            background: rgba(245, 241, 230, 0.7);
            padding: 8px 20px;
            border-radius: 20px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.05);
        }
        
        /* å¼¹çª—æ ·å¼ */
        .answer-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 2000;
            background: rgba(107, 142, 159, 0.7);
            align-items: center;
            justify-content: center;
            padding: 20px;
            backdrop-filter: blur(3px);
        }
        
        .letter-container {
            width: 90%;
            max-width: 900px;
            height: 80vh;
            background: #F5F1E6;
            border-radius: 12px;
            box-shadow: 0 20px 50px rgba(107, 142, 159, 0.4);
            overflow: hidden;
            transform: scale(0);
            transition: transform 0.7s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            display: flex;
            flex-direction: column;
            position: relative;
            border: 1px solid #d4c9b8;
        }
        
        .answer-modal.open .letter-container {
            transform: scale(1);
        }
        
        .letter-header {
            background: linear-gradient(135deg, #8B7355, #6B5A45);
            padding: 25px 30px;
            position: relative;
            display: flex;
            flex-direction: column;
            gap: 10px;
            border-bottom: 2px dashed #A5947A;
        }
        
        .letter-title {
            font-family: 'Reenie Beanie', cursive;
            font-size: 3rem;
            color: #F5F1E6;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
            letter-spacing: 2px;
        }
        
        .letter-subtitle {
            color: rgba(245, 241, 230, 0.9);
            font-size: 1.3rem;
            font-family: 'Gochi Hand', cursive;
        }
        
        .close-letter {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(245, 241, 230, 0.2);
            color: #F5F1E6;
            border: 1px solid rgba(245, 241, 230, 0.3);
            width: 45px;
            height: 45px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
            backdrop-filter: blur(5px);
        }
        
        .close-letter:hover {
            background: rgba(245, 241, 230, 0.3);
            transform: rotate(90deg);
        }
        
        .letter-body {
            flex: 1;
            overflow-y: auto;
            padding: 30px;
            background: #F5F1E6;
            position: relative;
        }
        
        .letter-body::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 100%;
            background-image: 
                linear-gradient(90deg, transparent 98%, rgba(139, 115, 85, 0.1) 98%),
                linear-gradient(rgba(139, 115, 85, 0.1) 1px, transparent 1px);
            background-size: 20px 20px;
            pointer-events: none;
        }
        
        /* MDå†…å®¹æ ·å¼ */
        .md-content {
            max-width: 800px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }
        
        .md-section {
            margin-bottom: 40px;
        }
        
        .md-section h1 {
            font-family: 'Reenie Beanie', cursive;
            font-size: 3rem;
            color: var(--warm-brown);
            margin-bottom: 20px;
            border-bottom: 2px dashed #A5947A;
            padding-bottom: 10px;
            text-align: center;
        }
        
        .md-section h2 {
            font-family: 'Reenie Beanie', cursive;
            font-size: 2.2rem;
            color: var(--warm-brown);
            margin: 30px 0 15px 0;
            position: relative;
            padding-left: 25px;
        }
        
        .md-section h2::before {
            content: "â€¢";
            position: absolute;
            left: 0;
            top: 0;
            color: var(--warm-red);
            font-size: 2.5rem;
        }
        
        .md-meta {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-bottom: 20px;
            justify-content: center;
        }
        
        .md-tag {
            background: rgba(139, 115, 85, 0.1);
            padding: 8px 16px;
            border-radius: 20px;
            color: var(--warm-brown);
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 5px;
            border: 1px solid rgba(139, 115, 85, 0.2);
        }
        
        .md-highlight {
            background: rgba(107, 142, 159, 0.1);
            border-left: 5px solid var(--vintage-blue);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            border: 1px solid rgba(107, 142, 159, 0.2);
        }
        
        .md-content pre {
            background: #2d2a2e;
            border-radius: 10px;
            padding: 20px;
            overflow-x: auto;
            margin: 20px 0;
            box-shadow: inset 0 2px 10px rgba(0,0,0,0.3), 0 5px 15px rgba(0,0,0,0.1);
            border: 1px solid #3a363b;
        }
        
        .md-content code {
            font-family: 'Fira Code', monospace;
            font-size: 0.9rem;
            line-height: 1.6;
            color: #f8f8f2;
        }
        
        .md-content .inline-code {
            background: rgba(139, 115, 85, 0.1);
            padding: 3px 8px;
            border-radius: 4px;
            font-family: 'Fira Code', monospace;
            color: var(--warm-brown);
            font-size: 0.9em;
            border: 1px solid rgba(139, 115, 85, 0.2);
        }
        
        .md-content ul, .md-content ol {
            margin-left: 25px;
            margin-bottom: 15px;
        }
        
        .md-content li {
            margin-bottom: 8px;
            line-height: 1.7;
        }
        
        .md-content blockquote {
            border-left: 4px solid var(--vintage-blue);
            padding-left: 20px;
            margin: 20px 0;
            font-style: italic;
            color: #666;
            background: rgba(107, 142, 159, 0.05);
            padding: 15px 20px;
            border-radius: 0 8px 8px 0;
        }
        
        .md-content table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            border-radius: 10px;
            overflow: hidden;
            border: 1px solid rgba(139, 115, 85, 0.2);
        }
        
        .md-content th, .md-content td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid rgba(139, 115, 85, 0.2);
        }
        
        .md-content th {
            background: linear-gradient(135deg, var(--warm-brown), #6B5A45);
            color: #F5F1E6;
            font-weight: bold;
            font-family: 'Gochi Hand', cursive;
            font-size: 1.1rem;
        }
        
        .md-content tr:nth-child(even) {
            background: rgba(139, 115, 85, 0.05);
        }
        
        .signature {
            text-align: right;
            margin-top: 40px;
            font-family: 'Reenie Beanie', cursive;
            font-size: 2rem;
            color: var(--warm-brown);
        }
        
        @media (max-width: 768px) {
            h1 {
                font-size: 2rem;
            }
            
            .hero-section {
                padding: 25px;
            }
            
            .section {
                padding: 20px;
            }
            
            .key-points {
                grid-template-columns: 1fr;
            }
            
            .envelope-container {
                width: 300px;
                height: 210px;
            }
            
            .envelope-flap {
                border-left: 150px solid transparent;
                border-right: 150px solid transparent;
                border-bottom: 60px solid #e8dfd1;
            }
            
            .envelope-flap::after {
                border-left: 150px solid transparent;
                border-right: 150px solid transparent;
                border-bottom: 57px solid #f9f3e9;
                left: -150px;
            }
            
            .envelope-text {
                font-size: 2rem;
            }
            
            .answer-modal {
                padding: 10px;
            }
            
            .letter-container {
                width: 95%;
                height: 85vh;
            }
            
            .letter-title {
                font-size: 2.2rem;
            }
            
            .md-section h1 {
                font-size: 2.2rem;
            }
            
            .md-section h2 {
                font-size: 1.8rem;
            }
        }
    </style>
</head>
<body>
    <div class="nav-bar">
        <div class="nav-left">
            <a href="index.html" class="back-btn">
                <i class="fas fa-arrow-left"></i> è¿”å›é¦–é¡µ
            </a>
            <span class="nav-title">ç¬¬14å¤©</span>
        </div>
        <div class="nav-right">
            <a href="#concepts" class="nav-btn">ğŸ“š æ ¸å¿ƒæ¦‚å¿µ</a>
            <a href="#code" class="nav-btn">ğŸ’» ä»£ç è®²è§£</a>
            <a href="#practice" class="nav-btn">ğŸ¯ ç»ƒä¹ </a>
        </div>
    </div>

    <div class="container">
        <div class="hero-section">
            <div class="hero-header">
                <div class="hero-title">
                    <div class="day-badge">ç¬¬ 14 å¤©</div>
                    <h1>ğŸ” SafeDeposit å®‰å…¨ä¿ç®¡ç®±</h1>
                    <p class="subtitle">æŒæ¡æ¥å£ã€æŠ½è±¡åˆçº¦ä¸ç»§æ‰¿ - æ„å»ºæ¨¡å—åŒ–æ™ºèƒ½åˆçº¦ç³»ç»Ÿ</p>
                </div>
                <div class="meta-tags">
                    <div class="difficulty-badge" style="background: var(--hard);">
                        â­â­â­â­ å›°éš¾
                    </div>
                    <span class="tag">æ¥å£ Interface</span>
                    <span class="tag">æŠ½è±¡åˆçº¦ Abstract</span>
                    <span class="tag">ç»§æ‰¿ Inheritance</span>
                    <span class="tag">å·¥å‚æ¨¡å¼</span>
                </div>
            </div>
            
            <div class="key-points">
                <div class="key-point">
                    <div class="key-point-title">ğŸ¯ å­¦ä¹ ç›®æ ‡</div>
                    <div>æŒæ¡æ¥å£ã€æŠ½è±¡åˆçº¦ä¸ç»§æ‰¿ï¼Œæ„å»ºæ¨¡å—åŒ–æ™ºèƒ½åˆçº¦ç³»ç»Ÿ</div>
                </div>
                <div class="key-point">
                    <div class="key-point-title">ğŸ› ï¸ æ ¸å¿ƒæŠ€èƒ½</div>
                    <div>Interfaceè®¾è®¡ã€Abstractåˆçº¦ã€ç»§æ‰¿æœºåˆ¶ã€å·¥å‚æ¨¡å¼</div>
                </div>
                <div class="key-point">
                    <div class="key-point-title">â° é¢„è®¡æ—¶é—´</div>
                    <div>3-4å°æ—¶ (ç†è§£+ç¼–ç +æµ‹è¯•)</div>
                </div>
                <div class="key-point">
                    <div class="key-point-title">ğŸ“Š ä¸»è§‚æ„Ÿå—éš¾åº¦</div>
                    <div>â­â­â­â­â­ æéš¾ - æŠ½è±¡ç¼–ç¨‹æ€ç»´å’Œå¤šå±‚ç»§æ‰¿å…³ç³»ç†è§£</div>
                </div>
            </div>
            
            <div class="key-points" style="margin-top: 20px;">
                <div class="key-point">
                    <div class="key-point-title">ğŸ¯ æ¥å£å®šä¹‰æ ‡å‡†</div>
                    <div>å®šä¹‰IDepositBoxæ¥å£,è§„èŒƒæ‰€æœ‰ä¿ç®¡ç®±å¿…é¡»å®ç°çš„åŠŸèƒ½</div>
                </div>
                <div class="key-point">
                    <div class="key-point-title">ğŸ—ï¸ æŠ½è±¡åˆçº¦å¤ç”¨</div>
                    <div>BaseDepositBoxæä¾›å…¬å…±é€»è¾‘,å­ç±»ç»§æ‰¿å¹¶å®ç°ç‰¹å®šåŠŸèƒ½</div>
                </div>
                <div class="key-point">
                    <div class="key-point-title">ğŸ”„ ç»§æ‰¿ä¸é‡å†™</div>
                    <div>ä½¿ç”¨virtual/overrideå…³é”®å­—å®ç°å¤šæ€æ€§</div>
                </div>
                <div class="key-point">
                    <div class="key-point-title">ğŸ­ å·¥å‚æ¨¡å¼åº”ç”¨</div>
                    <div>VaultManageråŠ¨æ€åˆ›å»ºä¸åŒç±»å‹çš„ä¿ç®¡ç®±åˆçº¦</div>
                </div>
            </div>
        </div>

        <div class="section" id="concepts">
            <h2 class="section-title">
                <i class="fas fa-lightbulb"></i> æ ¸å¿ƒæ¦‚å¿µ
            </h2>
            
            <div class="concept-card important">
                <div class="concept-title">ğŸ“‹ æ¥å£ (Interface) vs æŠ½è±¡åˆçº¦ (Abstract Contract)</div>
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>ç‰¹æ€§</th>
                            <th>æ¥å£ Interface</th>
                            <th>æŠ½è±¡åˆçº¦ Abstract</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>å‡½æ•°å®ç°</strong></td>
                            <td>âŒ ä¸èƒ½æœ‰ä»»ä½•å®ç°</td>
                            <td>âœ… å¯ä»¥æœ‰éƒ¨åˆ†å®ç°</td>
                        </tr>
                        <tr>
                            <td><strong>çŠ¶æ€å˜é‡</strong></td>
                            <td>âŒ ä¸èƒ½æœ‰çŠ¶æ€å˜é‡</td>
                            <td>âœ… å¯ä»¥æœ‰çŠ¶æ€å˜é‡</td>
                        </tr>
                        <tr>
                            <td><strong>æ„é€ å‡½æ•°</strong></td>
                            <td>âŒ ä¸èƒ½æœ‰æ„é€ å‡½æ•°</td>
                            <td>âœ… å¯ä»¥æœ‰æ„é€ å‡½æ•°</td>
                        </tr>
                        <tr>
                            <td><strong>ä¿®é¥°ç¬¦</strong></td>
                            <td>âŒ ä¸èƒ½æœ‰ä¿®é¥°ç¬¦</td>
                            <td>âœ… å¯ä»¥æœ‰ä¿®é¥°ç¬¦</td>
                        </tr>
                        <tr>
                            <td><strong>ç»§æ‰¿</strong></td>
                            <td>åªèƒ½ç»§æ‰¿æ¥å£</td>
                            <td>å¯ç»§æ‰¿åˆçº¦å’Œæ¥å£</td>
                        </tr>
                        <tr>
                            <td><strong>ç”¨é€”</strong></td>
                            <td>å®šä¹‰æ ‡å‡†/è§„èŒƒ</td>
                            <td>ä»£ç å¤ç”¨/æ¨¡æ¿</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="concept-card tip">
                <div class="concept-title">ğŸ”‘ Virtual å’Œ Override å…³é”®å­—</div>
                <p><strong>virtual:</strong> æ ‡è®°å‡½æ•°å¯ä»¥è¢«å­åˆçº¦é‡å†™</p>
                <p><strong>override:</strong> æ ‡è®°å‡½æ•°é‡å†™äº†çˆ¶åˆçº¦çš„å‡½æ•°</p>
                <pre><code class="language-solidity">// çˆ¶åˆçº¦
abstract contract BaseBox {
    function getBoxType() external pure virtual returns (string memory);
}

// å­åˆçº¦
contract BasicBox is BaseBox {
    function getBoxType() external pure override returns (string memory) {
        return "Basic";
    }
}</code></pre>
            </div>

            <div class="concept-card">
                <div class="concept-title">ğŸ­ å·¥å‚æ¨¡å¼ (Factory Pattern)</div>
                <p>å·¥å‚åˆçº¦å¯ä»¥åŠ¨æ€åˆ›å»ºå…¶ä»–åˆçº¦çš„å®ä¾‹:</p>
                <pre><code class="language-solidity">function createBasicBox(string memory _metadata) external returns (address) {
    // ä½¿ç”¨ new å…³é”®å­—åˆ›å»ºæ–°åˆçº¦
    BasicDepositBox newBox = new BasicDepositBox(_metadata);
    
    // è½¬ç§»æ‰€æœ‰æƒç»™è°ƒç”¨è€…
    newBox.transferOwnership(msg.sender);
    
    return address(newBox);
}</code></pre>
                <div class="success-box">
                    <strong>âœ… ä¼˜åŠ¿:</strong> ç»Ÿä¸€ç®¡ç†ã€æ‰¹é‡åˆ›å»ºã€è·Ÿè¸ªæ‰€æœ‰å®ä¾‹
                </div>
            </div>
        </div>

        <div class="section" id="code">
            <h2 class="section-title">
                <i class="fas fa-code"></i> ä»£ç è¯¦è§£
            </h2>

            <h3 style="color: var(--primary); margin: 20px 0;">1ï¸âƒ£ æ¥å£å®šä¹‰</h3>
            <pre><code class="language-solidity">interface IDepositBox {
    function getOwner() external view returns (address);
    function transferOwnership(address newOwner) external;
    function storeSecret(string memory secret) external;
    function getSecret() external view returns (string memory);
    function getBoxType() external pure returns (string memory);
    function getDepositTime() external view returns (uint256);
}</code></pre>
            <div class="warning-box">
                <strong>âš ï¸ æ¥å£è§„åˆ™:</strong> æ‰€æœ‰å‡½æ•°å¿…é¡»æ˜¯external,ä¸èƒ½æœ‰å‡½æ•°ä½“
            </div>

            <h3 style="color: var(--primary); margin: 20px 0;">2ï¸âƒ£ æŠ½è±¡åˆçº¦åŸºç±»</h3>
            <pre><code class="language-solidity">abstract contract BaseDepositBox is IDepositBox {
    address public owner;
    string public metadata;
    string private secret;
    uint256 public depositTime;
    
    constructor(string memory _metadata) {
        owner = msg.sender;
        metadata = _metadata;
        depositTime = block.timestamp;
    }
    
    modifier onlyOwner() {
        require(msg.sender == owner, "Not owner");
        _;
    }
    
    // å®ç°çš„å‡½æ•°
    function getOwner() external view override returns (address) {
        return owner;
    }
    
    function storeSecret(string memory _secret) external override onlyOwner {
        secret = _secret;
    }
    
    // æŠ½è±¡å‡½æ•° - å­ç±»å¿…é¡»å®ç°
    function getBoxType() external pure virtual override returns (string memory);
}</code></pre>

            <h3 style="color: var(--primary); margin: 20px 0;">3ï¸âƒ£ å…·ä½“å®ç° - åŸºç¡€ä¿ç®¡ç®±</h3>
            <pre><code class="language-solidity">contract BasicDepositBox is BaseDepositBox {
    constructor(string memory _metadata) BaseDepositBox(_metadata) {}
    
    function getBoxType() external pure override returns (string memory) {
        return "Basic";
    }
}</code></pre>

            <h3 style="color: var(--primary); margin: 20px 0;">4ï¸âƒ£ æ—¶é—´é”å®šä¿ç®¡ç®±</h3>
            <pre><code class="language-solidity">contract TimeLockedDepositBox is BaseDepositBox {
    uint256 public unlockTime;
    
    constructor(string memory _metadata, uint256 _lockDuration) 
        BaseDepositBox(_metadata) 
    {
        unlockTime = block.timestamp + _lockDuration;
    }
    
    modifier timeUnlocked() {
        require(block.timestamp >= unlockTime, "Still locked");
        _;
    }
    
    // é‡å†™çˆ¶åˆçº¦å‡½æ•°,æ·»åŠ æ—¶é—´é”
    function getSecret() external view override onlyOwner timeUnlocked 
        returns (string memory) 
    {
        return super.getSecret();
    }
    
    function getBoxType() external pure override returns (string memory) {
        return "Time-Locked";
    }
}</code></pre>
            <div class="concept-card tip">
                <div class="concept-title">ğŸ’¡ ä¿®é¥°ç¬¦å åŠ </div>
                <p>å¯ä»¥åŒæ—¶ä½¿ç”¨å¤šä¸ªä¿®é¥°ç¬¦:</p>
                <code class="inline-code">onlyOwner timeUnlocked</code>
                <p style="margin-top: 10px;">æ‰§è¡Œé¡ºåº: ä»å·¦åˆ°å³ä¾æ¬¡æ£€æŸ¥</p>
            </div>

            <h3 style="color: var(--primary); margin: 20px 0;">5ï¸âƒ£ å·¥å‚ç®¡ç†å™¨</h3>
            <pre><code class="language-solidity">contract VaultManager {
    struct BoxInfo {
        address boxAddress;
        string boxType;
        string metadata;
    }
    
    mapping(address => BoxInfo[]) public userBoxes;
    
    function createTimeLockedBox(string memory _metadata, uint256 _lockDuration) 
        external returns (address) 
    {
        // åˆ›å»ºæ–°åˆçº¦
        TimeLockedDepositBox newBox = new TimeLockedDepositBox(_metadata, _lockDuration);
        
        // è½¬ç§»æ‰€æœ‰æƒ
        newBox.transferOwnership(msg.sender);
        
        // è®°å½•ä¿¡æ¯
        userBoxes[msg.sender].push(BoxInfo({
            boxAddress: address(newBox),
            boxType: "Time-Locked",
            metadata: _metadata
        }));
        
        return address(newBox);
    }
    
    // é€šè¿‡æ¥å£ä¸ä¿ç®¡ç®±äº¤äº’
    function storeSecret(address boxAddress, string memory secret) external {
        IDepositBox(boxAddress).storeSecret(secret);
    }
}</code></pre>
        </div>

        <div class="section" id="practice">
            <h2 class="section-title">
                <i class="fas fa-dumbbell"></i> å®è·µè¦ç‚¹
            </h2>

            <div class="concept-card important">
                <div class="concept-title">ğŸ¯ å…³é”®éš¾ç‚¹</div>
                <ul class="steps-list">
                    <li>
                        <strong>æ¥å£ç±»å‹è½¬æ¢</strong><br>
                        <code class="inline-code">IDepositBox(boxAddress).storeSecret(secret)</code><br>
                        å°†åœ°å€è½¬æ¢ä¸ºæ¥å£ç±»å‹,å¯ä»¥è°ƒç”¨æ¥å£å®šä¹‰çš„å‡½æ•°
                    </li>
                    <li>
                        <strong>superå…³é”®å­—</strong><br>
                        <code class="inline-code">return super.getSecret()</code><br>
                        è°ƒç”¨çˆ¶åˆçº¦çš„å‡½æ•°å®ç°
                    </li>
                    <li>
                        <strong>æ„é€ å‡½æ•°ç»§æ‰¿</strong><br>
                        <code class="inline-code">BaseDepositBox(_metadata)</code><br>
                        å­åˆçº¦æ„é€ å‡½æ•°å¿…é¡»è°ƒç”¨çˆ¶åˆçº¦æ„é€ å‡½æ•°
                    </li>
                </ul>
            </div>

            <div class="concept-card tip">
                <div class="concept-title">ğŸ’ª ç»ƒä¹ ä»»åŠ¡</div>
                <ol style="margin-left: 20px; line-height: 2;">
                    <li>åˆ›å»ºä¸€ä¸ªMultiSigDepositBox,éœ€è¦å¤šä¸ªç­¾åæ‰èƒ½æå–ç§˜å¯†</li>
                    <li>å®ç°ä¸€ä¸ªä¿ç®¡ç®±å‡çº§åŠŸèƒ½,ä»Basicå‡çº§åˆ°Premium</li>
                    <li>æ·»åŠ äº‹ä»¶è®°å½•æ‰€æœ‰ä¿ç®¡ç®±æ“ä½œ</li>
                    <li>å®ç°ä¿ç®¡ç®±è½¬è®©åŠŸèƒ½</li>
                </ol>
            </div>

            <div class="success-box">
                <strong>âœ… è®¾è®¡ä¼˜åŠ¿:</strong>
                <ul style="margin-left: 20px; margin-top: 10px;">
                    <li>ä»£ç å¤ç”¨ - å…¬å…±é€»è¾‘åœ¨BaseDepositBoxä¸­</li>
                    <li>æ˜“äºæ‰©å±• - æ·»åŠ æ–°ç±»å‹åªéœ€ç»§æ‰¿åŸºç±»</li>
                    <li>ç»Ÿä¸€æ¥å£ - æ‰€æœ‰ä¿ç®¡ç®±ç¬¦åˆIDepositBoxæ ‡å‡†</li>
                    <li>å…³æ³¨ç‚¹åˆ†ç¦» - VaultManagerä¸“æ³¨ç®¡ç†,DepositBoxä¸“æ³¨åŠŸèƒ½</li>
                </ul>
            </div>
        </div>

        <div class="navigation-footer">
            <a href="contract-13.html" class="nav-footer-btn" style="border-color: var(--accent);">
                <div class="nav-footer-label">â† ä¸Šä¸€ä¸ª</div>
                <div class="nav-footer-title">PreorderTokens - é¢„è´­ä»£å¸</div>
            </a>
            <a href="contract-15.html" class="nav-footer-btn" style="border-color: var(--accent);">
                <div class="nav-footer-label">ä¸‹ä¸€ä¸ª â†’</div>
                <div class="nav-footer-title">Gasä¼˜åŒ–æŠ•ç¥¨e</div>
            </a>
        </div>
    
        <!-- Snehaçš„ä¸€å°æ¥ä¿¡æ¨¡å— -->
        <div class="answer-reference">
            <div class="envelope-container" id="envelope-container">
                <div class="envelope">
                    <div class="envelope-front">
                        <div class="envelope-flap"></div>
                        <div class="envelope-pattern"></div>
                        <div class="envelope-seal">
                            <i class="fas fa-feather-alt seal-icon"></i>
                        </div>
                        <div class="envelope-text">Snehaçš„ä¸€å°æ¥ä¿¡</div>
                    </div>
                    <div class="envelope-back">
                        <div class="envelope-text" style="color: var(--warm-brown);">ç‚¹å‡»å¼€å¯</div>
                    </div>
                </div>
            </div>
            <div class="envelope-hint">ç‚¹å‡»ä¿¡å°æŸ¥çœ‹Snehaçš„æ¥ä¿¡</div>
        </div>
    </div>

    <!-- å¼¹çª— - å†…å®¹å¾…åç»­ç²¾ç»†åŒ–å¤„ç† -->
    <div class="answer-modal" id="answer-modal">
        <div class="letter-container">
            <div class="letter-header">
                <div class="letter-title">Snehaçš„ä¸€å°æ¥ä¿¡</div>
                <div class="letter-subtitle">å…³äºç¬¬14å¤©çš„å­¦ä¹ æŒ‡å¯¼</div>
                <button id="close-letter" class="close-letter">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="letter-body">
                <div id="md-content" class="md-content">
                    <div class="md-section">
                        <h1>æ¨¡å—åŒ–é‡‘åº“ç³»ç»Ÿ SafeDeposit åˆçº¦</h1>
                        <div class="md-meta">
                            <span class="md-tag"><i class="fas fa-calendar-day"></i> Day 14</span>
                            <span class="md-tag"><i class="fas fa-hashtag"></i> ID: 14</span>
                            <span class="md-tag"><i class="fas fa-user-edit"></i> è¯‘è€…: He Shadow</span>
                            <span class="md-tag"><i class="fas fa-signal"></i> éš¾åº¦ç­‰çº§: ä¸­çº§</span>
                        </div>
                        
                        <h2>å®‰å…¨æ‰˜ç®¡åˆçº¦</h2>
                        
                        <p>å¥½çš„â€”â€”åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å·²ç»ç¼–å†™äº†åŸºç¡€ç‰ˆå’Œé«˜çº§ç‰ˆçš„ ERC-20 ä»£å¸ï¼Œå®Œæˆäº†å®Œæ•´çš„ä»£å¸å‘å”®ï¼Œå¹¶æ¢è®¨äº†<strong>ç»§æ‰¿</strong>å¦‚ä½•å¸®åŠ©æˆ‘ä»¬é‡ç”¨å’Œç»„ç»‡ä»£ç ã€‚å›æƒ³ä¸€ä¸‹æˆ‘ä»¬çš„ TokenSale åˆçº¦æ˜¯å¦‚ä½•æ‰©å±• ERC-20 ä»£å¸ä»¥æ·»åŠ æ–°é€»è¾‘ï¼Œè€Œæ— éœ€é‡å†™æ‰€æœ‰å†…å®¹çš„ã€‚</p>
                        
                        <p>ç°åœ¨æˆ‘ä»¬è¦å†æ¬¡å‡çº§â€”â€”è¿™æ¬¡æˆ‘ä»¬å°†æ„å»ºä¸€ä¸ª<strong>æ¨¡å—åŒ–é‡‘åº“ç³»ç»Ÿ</strong>ï¼Œè®©ç”¨æˆ·å¯ä»¥å°†æ•æ„Ÿæœºå¯†å­˜å‚¨åœ¨ä¸åŒç±»å‹çš„å­˜æ¬¾ç®±ä¸­ã€‚</p>
                        
                        <h2>æ ¸å¿ƒç†å¿µ</h2>
                        
                        <p>æƒ³è±¡ä¸€ä¸‹ï¼šä½ æœ‰å¾ˆå¤šç”¨æˆ·ï¼Œæ¯ä¸ªäººéƒ½æƒ³æŠŠä¸€ä¸ªç§˜å¯†æ”¾è¿›è‡ªå·±çš„é‡‘åº“ã€‚ä¸è¿‡ï¼Œæ¯ä¸ªé‡‘åº“éƒ½ä¸ä¸€æ ·ï¼šæœ‰äº›æ˜¯<strong>åŸºç¡€å‹</strong>ï¼Œé€‚åˆæ—¥å¸¸ä½¿ç”¨ã€‚æœ‰äº›æ˜¯<strong>é«˜çº§å‹</strong>ï¼Œèƒ½æä¾›é¢å¤–çš„åŠŸèƒ½ï¼Œæ¯”å¦‚å…ƒæ•°æ®ã€‚æœ‰äº›æ˜¯<strong>æ—¶é—´é”å‹</strong>ï¼Œç”¨æˆ·åœ¨ç‰¹å®šæ—¶é—´ä¹‹å‰æ— æ³•æ‰“å¼€é‡‘åº“ã€‚</p>
                        
                        <p>æˆ‘ä»¬ä¸éœ€è¦å†™ä¸‰ä¸ªå®Œå…¨ä¸åŒçš„åˆçº¦ï¼Œè€Œæ˜¯è¦<strong>æ™ºèƒ½åœ°æ„å»ºå®ƒä»¬</strong>â€”â€”ä½¿ç”¨ä¸€äº›å…±åŒçš„è§„åˆ™å’Œé€»è¾‘ä»¥åŠ Solidity å¼ºå¤§çš„é¢å‘å¯¹è±¡åŠŸèƒ½ã€‚</p>
                        
                        <h2>Solidity ä¸­çš„æ¥å£æ˜¯ä»€ä¹ˆï¼Ÿ</h2>
                        
                        <p>å¦‚æœè¯´ç»§æ‰¿æ˜¯ç”¨æ¥<strong>é‡å¤åˆ©ç”¨é€šç”¨é€»è¾‘</strong>ï¼Œé‚£ä¹ˆæ¥å£å°±æ˜¯ç”¨æ¥è§„å®š<strong>å¼ºåˆ¶æ‰§è¡Œè§„åˆ™</strong>ã€‚</p>
                        
                        <p><strong>æ¥å£</strong>æ˜¯ä¸€ç§åªåŒ…å«å‡½æ•°å®šä¹‰çš„åˆçº¦â€”â€”æ²¡æœ‰é€»è¾‘ï¼Œæ²¡æœ‰å­˜å‚¨ï¼Œä¹Ÿæ²¡æœ‰çŠ¶æ€å˜é‡ã€‚ä½ å¯ä»¥æŠŠæ¥å£æƒ³è±¡æˆè“å›¾æˆ–è€…æ‰¿è¯ºï¼š"ä»»ä½•å®ç°æ­¤æ¥å£çš„åˆçº¦éƒ½å¿…é¡»åŒ…å«è¿™äº›å‡½æ•°â€”â€”å¹¶ä¸”å®ƒä»¬çš„è¡Œä¸ºå¿…é¡»ç¬¦åˆé¢„æœŸã€‚"</p>
                        
                        <p>è¿™å°±åƒå®šäº†ä¸€ä¸ªæ ‡å‡†ï¼Œè¿™æ ·åšæœ‰å¾ˆå¤šå¥½å¤„ï¼šå®ƒä½¿åˆçº¦äº¤äº’å¯é¢„æµ‹â€”â€”å³ä½¿ç±»å‹ä¸ä¸€æ ·ä¹Ÿèƒ½äº’é€šã€æˆ‘ä»¬å¯ä»¥åšä¸€äº›å·¥å…·ï¼ˆæ¯”å¦‚ç®¡ç†å™¨æˆ–è€…ä»ªè¡¨ç›˜ï¼‰ï¼Œåªè¦åˆçº¦ç”¨è¿™ä¸ªæ¥å£ï¼Œå°±èƒ½å’Œå®ƒæ²Ÿé€šï¼Œä¸ç”¨ç®¡é‡Œé¢å…·ä½“æ€ä¹ˆå†™çš„ã€è¿™æ ·æˆ‘ä»¬çš„ç³»ç»Ÿå°±èƒ½åƒæ­ç§¯æœ¨ä¸€æ ·çµæ´»ç»„åˆã€‚</p>
                        
                        <p>æˆ‘ä»¬ä¼šç”¨ä¸€ä¸ªæ¥å£æ¥è§„å®šæ¯ä¸ªé‡‘åº“å¿…é¡»è¦æœ‰çš„åŠŸèƒ½ï¼šè°æ‹¥æœ‰è¿™ä¸ªé‡‘åº“ï¼Ÿé‡‘åº“èƒ½å¦å­˜å‚¨å’Œæ£€ç´¢ç§˜å¯†ï¼Ÿè¿™æ˜¯ä»€ä¹ˆç±»å‹çš„é‡‘åº“ï¼Ÿé‡‘åº“æ˜¯ä»€ä¹ˆæ—¶å€™åˆ›å»ºçš„ï¼Ÿæ¯ç§é‡‘åº“éƒ½ä¼šç”¨è‡ªå·±çš„æ–¹å¼å®ç°è¿™ä¸ªæ¥å£ã€‚</p>
                        
                        <h2>ä»€ä¹ˆæ˜¯æŠ½è±¡åˆçº¦ï¼Ÿ</h2>
                        
                        <p>é™¤äº†æ¥å£ï¼ŒSolidity è¿˜ç»™äº†æˆ‘ä»¬å¦ä¸€ä¸ªå¼ºå¤§çš„å·¥å…·ï¼š<strong>æŠ½è±¡åˆçº¦</strong>ã€‚æŠ½è±¡åˆçº¦æ˜¯ä¸€ä¸ªå¯ä»¥åŒæ—¶åŒ…å«<strong>å·²å®ç°çš„å‡½æ•°</strong>å’Œ<strong>æœªå®ç°çš„ï¼ˆvirtualï¼‰å‡½æ•°</strong>çš„åˆçº¦â€”â€”ä½ å¯ä»¥æŠŠå®ƒæƒ³è±¡æˆæ¥å£å’ŒçœŸå®é€»è¾‘çš„æ··åˆä½“ã€‚</p>
                        
                        <p>å½“æ‚¨æƒ³è¦æ‰§è¡Œä»¥ä¸‹æ“ä½œæ—¶ï¼Œå®ƒå¾ˆæœ‰ç”¨ï¼šæä¾›é€šç”¨é€»è¾‘ï¼ˆå¦‚é€šç”¨å˜é‡æˆ–å†…éƒ¨è¾…åŠ©å‡½æ•°ï¼‰ã€æœ‰äº›å…·ä½“çš„å†…å®¹ï¼Œå¯ä»¥è®©åé¢çš„"å­åˆçº¦"å»è¡¥å……å®Œå–„ã€‚</p>
                        
                        <p>å…³é”®æ€æƒ³æ˜¯ï¼šæˆ‘ä»¬å°†æŠ½è±¡åˆçº¦ç”¨ä½œåŸºç¡€â€”â€”ä¸èƒ½ç›´æ¥ç”¨æ¥éƒ¨ç½²ã€‚åœ¨æˆ‘ä»¬çš„é‡‘åº“ç³»ç»Ÿä¸­ï¼Œæˆ‘ä»¬å°†æ„å»ºä¸€ä¸ªæŠ½è±¡åŸºç¡€åˆçº¦ï¼Œå¤„ç†é€šç”¨é€»è¾‘ï¼Œä¾‹å¦‚ï¼šè¿½è¸ªé‡‘åº“æ‰€æœ‰è€…ã€å­˜å‚¨å’Œæ£€ç´¢ç§˜å¯†ã€å¼ºåˆ¶è®¿é—®æ§åˆ¶ã€‚ç„¶åæˆ‘ä»¬çš„ <code class="inline-code">Basic</code>ã€<code class="inline-code">Premium</code> å’Œ <code class="inline-code">TimeLocked</code> é‡‘åº“å°†<strong>æ‰©å±•</strong>è¿™ä¸ªåŸºç¡€åˆçº¦å¹¶æ·»åŠ è‡ªå·±çš„ç‰¹è‰²â€”â€”åŒæ—¶éƒ½ç¬¦åˆæ¥å£è§„èŒƒã€‚</p>
                        
                        <h2>æˆ‘ä»¬å°†è¦æ„å»ºçš„å†…å®¹</h2>
                        
                        <p>æˆ‘ä»¬å°†é‡‡å–æ¸…æ™°æ˜“æ‡‚çš„æ­¥éª¤æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼š</p>
                        <ol>
                            <li><strong><code class="inline-code">IDepositBox.sol</code></strong> â€” æ¥å£ï¼šæˆ‘ä»¬å°†å®šä¹‰ä¸€ä¸ªæ‰€éœ€å‡½æ•°çš„ç®€å•è§„åˆ™æ‰‹å†Œã€‚æ¯ä¸ªé‡‘åº“éƒ½å¿…é¡»éµå®ˆæ­¤è§„åˆ™ã€‚</li>
                            <li><strong><code class="inline-code">BaseDepositBox.sol</code></strong> â€” æŠ½è±¡åˆçº¦ï¼šè¿™æ˜¯æˆ‘ä»¬å…±äº«çš„åŸºç¡€ã€‚å®ƒä¼šå®ç°æ¥å£ä¸­å®šä¹‰çš„å¤§éƒ¨åˆ†é€»è¾‘ï¼Œå¦‚ç§˜å¯†å­˜å‚¨ã€æ‰€æœ‰æƒå’Œå­˜å…¥æ—¶é—´ã€‚å®ƒè¿˜ä¼šä½¿ç”¨ <code class="inline-code">ä¿®é¥°ç¬¦</code> æ¥é™åˆ¶è®¿é—®â€”â€”æ¯”å¦‚ï¼Œç¡®ä¿åªæœ‰æ‰€æœ‰è€…æ‰å¯ä»¥è®¿é—®æˆ–ä¿®æ”¹é‡‘åº“ã€‚</li>
                            <li><strong><code class="inline-code">BasicDepositBox.sol</code></strong> â€” æ ‡å‡†é‡‘åº“ï¼šè¿™ä¸ªé‡‘åº“åªæœ‰æ¥å£è§„å®šçš„åŠŸèƒ½ï¼Œå®ƒæ˜¯é»˜è®¤çš„é‡‘åº“ã€‚</li>
                            <li><strong><code class="inline-code">PremiumDepositBox.sol</code></strong> â€” å¸¦é™„åŠ åŠŸèƒ½çš„é‡‘åº“ï¼šè¿™ä¸ªé‡‘åº“å»ºç«‹åœ¨åŸºç¡€é‡‘åº“ä¸Šï¼Œä½†å¢åŠ äº†å¯¹è‡ªå®šä¹‰å…ƒæ•°æ®çš„æ”¯æŒã€‚å¯ä»¥å°†å…¶è§†ä¸ºå…·æœ‰æ›´å¤šåŠŸèƒ½çš„å‡çº§ç‰ˆã€‚</li>
                            <li><strong><code class="inline-code">TimeLockedDepositBox.sol</code></strong> â€” æš‚æ—¶æ— æ³•æ‰“å¼€çš„é‡‘åº“ï¼šè¿™ä¸ªæ˜¯æœ‰æ—¶æ•ˆæ€§çš„ã€‚åœ¨é”å®šæœŸç»“æŸä¹‹å‰ï¼Œæ— æ³•æŸ¥çœ‹ç§˜å¯†ã€‚æˆ‘ä»¬å°†æ·»åŠ ç‰¹æ®Šçš„ä¿®é¥°ç¬¦æ¥å¼ºåˆ¶æ‰§è¡Œæ­¤è¡Œä¸ºã€‚</li>
                            <li><strong><code class="inline-code">VaultManager.sol</code></strong> â€” æ§åˆ¶å™¨ï¼šæœ€åï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¸€ä¸ª <code class="inline-code">VaultManager</code> åˆçº¦å°†æ‰€æœ‰éƒ¨åˆ†æ•´åˆã€‚æœ¬åˆçº¦ï¼šå…è®¸ç”¨æˆ·åˆ›å»ºä»»ä½•ç±»å‹çš„é‡‘åº“ã€è·Ÿè¸ªå“ªäº›é‡‘åº“å±äºå“ªäº›ç”¨æˆ·ã€å…è®¸é‡å‘½åé‡‘åº“ã€å¤„ç†æ‰€æœ‰æƒè½¬ç§»ã€ä½œä¸ºæ•´ä¸ªç³»ç»Ÿçš„å•ä¸€äº¤äº’ç‚¹ã€‚</li>
                        </ol>
                        
                        <p>è¿™ä¸ªç³»ç»Ÿå±•ç¤ºäº†å¦‚ä½•ç¼–å†™å¯æ‰©å±•ã€æ¨¡å—åŒ–ä¸”ç»„ç»‡è‰¯å¥½çš„ Solidity ä»£ç â€”â€”å°±åƒç°å®ä¸–ç•Œä¸­çš„å¤§è§„æ¨¡åè®®ä¸€æ ·ã€‚å®ƒè¿˜æ•™æˆäº†<strong>æ¥å£</strong>ã€<strong>æŠ½è±¡åˆçº¦</strong>å’Œ<strong>ç»§æ‰¿</strong>å¦‚ä½•ååŒå·¥ä½œâ€”â€”æ„æˆäº†å¤§å¤šæ•°ç”Ÿäº§çº§æ™ºèƒ½åˆçº¦çš„æ ¸å¿ƒã€‚</p>
                        
                        <h2>IDepositBox â€” æˆ‘ä»¬çš„é‡‘åº“æ¥å£</h2>
                        
                        <pre><code class="language-solidity">interface IDepositBox {
    function getOwner() external view returns (address);
    function transferOwnership(address newOwner) external;
    function storeSecret(string calldata secret) external;
    function getSecret() external view returns (string memory);
    function getBoxType() external pure returns (string memory);
    function getDepositTime() external view returns (uint256);
}</code></pre>
                        
                        <div class="md-highlight">
                            <p>è¿™æ˜¯æˆ‘ä»¬çš„<strong>æ¥å£</strong>â€”â€”åˆçº¦è“å›¾ã€‚æˆ‘ä»¬åŸºæœ¬ä¸Šæ˜¯åœ¨è¯´ï¼š"å˜¿ï¼Œä»»ä½•æƒ³è¦æˆä¸ºæˆ‘ä»¬ç³»ç»Ÿä¸€éƒ¨åˆ†çš„é‡‘åº“ï¼ˆæˆ–å­˜æ¬¾ç®±ï¼‰<strong>å¿…é¡»</strong>å®ç°è¿™äº›å‡½æ•°ã€‚"</p>
                            
                            <p>è®©æˆ‘ä»¬çœ‹çœ‹æ¯ä¸ªå‡½æ•°ä»£è¡¨ä»€ä¹ˆï¼š</p>
                            <ul>
                                <li><code class="inline-code">getOwner()</code> â€” è¿”å›å­˜æ¬¾ç®±çš„å½“å‰æ‰€æœ‰è€…ã€‚</li>
                                <li><code class="inline-code">transferOwnership()</code> â€” å…è®¸å°†æ‰€æœ‰æƒè½¬ç§»ç»™å…¶ä»–äººã€‚</li>
                                <li><code class="inline-code">storeSecret()</code> â€” ä¸€ä¸ªç”¨äºå°†å­—ç¬¦ä¸²ï¼ˆæˆ‘ä»¬çš„"ç§˜å¯†"ï¼‰ä¿å­˜åœ¨é‡‘åº“ä¸­çš„å‡½æ•°ã€‚</li>
                                <li><code class="inline-code">getSecret()</code> â€” æ£€ç´¢å­˜å‚¨çš„ç§˜å¯†ã€‚</li>
                                <li><code class="inline-code">getBoxType()</code> â€” è®©æˆ‘ä»¬çŸ¥é“å®ƒæ˜¯å“ªç§ç±»å‹çš„å­˜æ¬¾ç®±ï¼ˆåŸºç¡€å‹ã€é«˜çº§å‹ç­‰ï¼‰ã€‚</li>
                                <li><code class="inline-code">getDepositTime()</code> â€” è¿”å›å­˜æ¬¾ç®±çš„åˆ›å»ºæ—¶é—´ã€‚</li>
                            </ul>
                            <p>è¿™äº›å°±åƒæ¸¸æˆè§„åˆ™ä¸€æ ·â€”â€”æ¯ç§ç±»å‹çš„å­˜æ¬¾ç®±éƒ½ä¼šéµå¾ªè¿™äº›è§„åˆ™ï¼Œå³ä½¿å®ƒä»¬çš„å®æ–½æ–¹å¼ä¸åŒã€‚</p>
                        </div>
                        
                        <h2>BaseDepositBox.sol â€“ åŸºç¡€å‹æŠ½è±¡åˆçº¦</h2>
                        
                        <p>è¿™ä¸ªåˆçº¦æ˜¯æˆ‘ä»¬å­˜æ¬¾ç®±ç³»ç»Ÿçš„<strong>æ ¸å¿ƒ</strong>ã€‚æ‰€æœ‰ç‰¹å®šç±»å‹çš„å­˜æ¬¾ç®±â€”â€”å¦‚åŸºç¡€å‹ã€é«˜çº§å‹å’Œæ—¶é—´é”å‹â€”â€”éƒ½å»ºç«‹åœ¨è¿™ä¸ªåˆçº¦ä¹‹ä¸Šã€‚</p>
                        
                        <pre><code class="language-solidity">// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "./IDepositBox.sol";

abstract contract BaseDepositBox is IDepositBox {
    address private owner;
    string private secret;
    uint256 private depositTime;

    event OwnershipTransferred(address indexed previousOwner, address indexed newOwner);
    event SecretStored(address indexed owner);

    modifier onlyOwner() {
        require(msg.sender == owner, "Not the box owner");
        _;
    }

    constructor() {
        owner = msg.sender;
        depositTime = block.timestamp;
    }

    function getOwner() public view override returns (address) {
        return owner;
    }

    function transferOwnership(address newOwner) external virtual override onlyOwner {
        require(newOwner != address(0), "New owner cannot be zero address");
        emit OwnershipTransferred(owner, newOwner);
        owner = newOwner;
    }

    function storeSecret(string calldata _secret) external virtual override onlyOwner {
        secret = _secret;
        emit SecretStored(msg.sender);
    }

    function getSecret() public view virtual override onlyOwner returns (string memory) {
        return secret;
    }

    function getDepositTime() external view virtual override returns (uint256) {
        return depositTime;
    }
}</code></pre>
                        
                        <div class="md-highlight">
                            <p><strong>å¯¼å…¥è¯­å¥</strong></p>
                            <p>æˆ‘ä»¬æ­£åœ¨å¯¼å…¥ä¸€ä¸ªåä¸º <code class="inline-code">IDepositBox</code> çš„æ¥å£ã€‚å¯ä»¥å°†æ¥å£è§†ä¸ºä¸€ä¸ª<strong>ä»…åŒ…å«å‡½æ•°å£°æ˜è€Œæ²¡æœ‰å®é™…å®ç°çš„åˆçº¦</strong>ã€‚å½“æˆ‘ä»¬å¯¼å…¥å¹¶ç»§æ‰¿è¿™ä¸ªæ¥å£æ—¶ï¼Œå°±æ˜¯åœ¨è¯´ï¼š"æˆ‘æ‰¿è¯ºå®ç° IDepositBox ä¸­å£°æ˜çš„æ‰€æœ‰å‡½æ•°â€”â€”å³ä½¿ä¸æ˜¯æ‰€æœ‰å‡½æ•°éƒ½åœ¨è¿™é‡Œå®ç°ã€‚"è¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼Œæ¯ä¸ªå­˜æ¬¾ç®±éƒ½å¿…é¡»æŒ‰ç…§åŒæ ·çš„æ ‡å‡†æ¥å®ç°åŠŸèƒ½ï¼Œå°±åƒå¤§å®¶éƒ½åœ¨ç”¨åŒä¸€æœ¬è¯´æ˜ä¹¦ï¼Œè¿™æ ·ç»“æ„å°±ä¸ä¼šä¹±ã€‚</p>
                            
                            <p><strong>æŠ½è±¡åˆçº¦</strong></p>
                            <p>å…³é”®å­— <code class="inline-code">abstract</code> è¡¨ç¤ºè¿™ä¸ªåˆçº¦<strong>ä¸èƒ½ç›´æ¥éƒ¨ç½²</strong>ã€‚å®ƒæ˜¯å……å½“å…¶ä»–åˆçº¦æ„å»ºçš„<strong>æ¨¡æ¿</strong>æˆ–<strong>åœ°åŸº</strong>ã€‚ä¸ºä»€ä¹ˆå®ƒæ˜¯æŠ½è±¡çš„ï¼Ÿå› ä¸ºå®ƒæ²¡æœ‰æŠŠæ¥å£é‡Œè§„å®šçš„æ‰€æœ‰åŠŸèƒ½éƒ½å†™å®Œæ•´ã€‚ä¾‹å¦‚ï¼Œå®ƒ<strong>æ²¡æœ‰å®šä¹‰</strong> <code class="inline-code">getBoxType()</code> å‡½æ•°â€”â€”æ¯ä¸ªåé¢çš„å­åˆçº¦ä¼šæœ‰è‡ªå·±çš„ç‰ˆæœ¬ï¼ˆå¦‚"åŸºç¡€å‹"ã€"é«˜çº§å‹"ç­‰ï¼‰ã€‚æ‰€ä»¥è¿™ä¸ªåŸºç¡€åˆçº¦åªå¤„ç†<strong>é€šç”¨é€»è¾‘</strong>ï¼Œå‰©ä¸‹çš„ç»†èŠ‚ç”±æ¯ä¸ªå…·ä½“çš„é‡‘åº“è‡ªå·±è¡¥å……ã€‚</p>
                            
                            <p><strong>çŠ¶æ€å˜é‡</strong></p>
                            <ul>
                                <li><code class="inline-code">owner</code>ï¼šå­˜å‚¨æ‹¥æœ‰æ­¤å­˜æ¬¾ç®±äººå‘˜çš„åœ°å€ã€‚åªæœ‰æ­¤äººè¢«å…è®¸å­˜å‚¨æˆ–æ£€ç´¢ç§˜å¯†ã€‚</li>
                                <li><code class="inline-code">secret</code>ï¼šç”¨æˆ·å¯ä»¥å®‰å…¨åœ°å­˜å‚¨åœ¨è¯¥å­˜æ¬¾ç®±ä¸­çš„ç§æœ‰å­—ç¬¦ä¸²ã€‚</li>
                                <li><code class="inline-code">depositTime</code>ï¼šè®°å½•å­˜æ¬¾ç®±éƒ¨ç½²çš„å‡†ç¡®æ—¶é—´ï¼ˆUnix æ—¶é—´æˆ³ï¼‰ã€‚è¿™å¯¹äºåŸºäºæ—¶é—´çš„é€»è¾‘ï¼ˆä¾‹å¦‚ï¼Œé”å®šï¼‰å¾ˆæœ‰ç”¨ã€‚</li>
                            </ul>
                            <p>è¿™äº›å˜é‡éƒ½æ˜¯ <code class="inline-code">private</code>ï¼Œè¡¨ç¤ºå®ƒä»¬åªèƒ½åœ¨å†…éƒ¨è®¿é—®ã€‚å¦‚æœæœ‰äººæƒ³è¯»å–å®ƒä»¬ï¼Œå¿…é¡»é€šè¿‡æˆ‘ä»¬æä¾›çš„<strong>å…¬å…± getter å‡½æ•°</strong>æ¥æŸ¥ã€‚</p>
                            
                            <p><strong>äº‹ä»¶</strong></p>
                            <ul>
                                <li><code class="inline-code">OwnershipTransferred</code>ï¼šå½“æœ‰äººè½¬ç§»å­˜æ¬¾ç®±çš„æ‰€æœ‰æƒæ—¶è§¦å‘ã€‚</li>
                                <li><code class="inline-code">SecretStored</code>ï¼šå½“å­˜å‚¨æ–°ç§˜å¯†æ—¶è§¦å‘ã€‚</li>
                            </ul>
                            <p>å…³é”®è¯ <code class="inline-code">indexed</code> åœ¨æŸ¥è¯¢é“¾ä¸Šæ•°æ®æ—¶ï¼Œå¯ä»¥æ›´è½»æ¾åœ°æŒ‰è¿™äº›å­—æ®µè¿‡æ»¤æ—¥å¿—ã€‚</p>
                            
                            <p><strong>ä¿®é¥°ç¬¦ï¼šonlyOwner</strong></p>
                            <p>æ­¤ä¿®é¥°ç¬¦é™åˆ¶å¯¹æŸäº›å‡½æ•°çš„è®¿é—®ã€‚å¦‚æœä¸€ä¸ªå‡½æ•°æ ‡è®°ä¸º <code class="inline-code">onlyOwner</code>ï¼Œé‚£ä¹ˆåªæœ‰å½“å‰æ‰€æœ‰è€…å¯ä»¥è¿è¡Œå®ƒã€‚å¦åˆ™ï¼Œå‡½æ•°è°ƒç”¨ä¼šå›æ»šï¼Œå¹¶æ˜¾ç¤ºæ¶ˆæ¯ <code class="inline-code">"Not the box owner"</code>ã€‚æˆ‘ä»¬åœ¨æ¯ä¸ªé‡è¦å‡½æ•°ä¸­ä½¿ç”¨è¿™ä¸ªä¿®é¥°ç¬¦â€”â€”æ¯”å¦‚å­˜å‚¨æœºå¯†æˆ–è½¬ç§»æ‰€æœ‰æƒã€‚</p>
                            
                            <p><strong>æ„é€ å‡½æ•°</strong></p>
                            <p>è¯¥å‡½æ•°åªè¿è¡Œä¸€æ¬¡â€”â€”åœ¨é‡‘åº“éƒ¨ç½²æ—¶ã€‚<code class="inline-code">msg.sender</code>ï¼šéƒ¨ç½²åˆçº¦çš„äººæˆä¸º <code class="inline-code">owner</code>ã€‚<code class="inline-code">block.timestamp</code>ï¼šå½“å‰æ—¶é—´ï¼ˆè‡ª Unix çºªå…ƒä»¥æ¥çš„ç§’æ•°ï¼‰è¢«è®°å½•ä¸ºå­˜å…¥æ—¶é—´ã€‚æ‰€ä»¥ï¼Œè¯¥é‡‘åº“åœ¨åˆ›å»ºæ—¶è‡ªåŠ¨è®¾ç½®æ‰€æœ‰æƒå’Œæ—¶é—´è·Ÿè¸ªã€‚</p>
                            
                            <p><strong>getOwner()</strong></p>
                            <p>è¿”å›é‡‘åº“çš„å½“å‰æ‰€æœ‰è€…ã€‚è¿™æ˜¯ä¸€ä¸ªç®€å•çš„ getter å‡½æ•°â€”â€”å¹¶ä¸”æ˜¯ <code class="inline-code">IDepositBox</code> æ¥å£æ‰€è¦æ±‚çš„ã€‚</p>
                            
                            <p><strong>transferOwnership()</strong></p>
                            <p>å…è®¸å½“å‰æ‰€æœ‰è€…å°†æ‰€æœ‰æƒç§»äº¤ç»™å…¶ä»–äººã€‚æ£€æŸ¥æ–°çš„æ‰€æœ‰è€…åœ°å€ä¸æ˜¯é›¶åœ°å€ï¼ˆ<code class="inline-code">0x000...0</code>ï¼‰â€”â€”å¦åˆ™å°†æ°¸è¿œé”å®šé‡‘åº“ã€‚è§¦å‘äº‹ä»¶æ¥è¡¨ç¤ºæ‰€æœ‰æƒå˜æ›´ã€‚<code class="inline-code">onlyOwner</code> ä¿®é¥°ç¬¦ç¡®ä¿<strong>åªæœ‰å½“å‰æ‰€æœ‰è€…</strong>å¯ä»¥è½¬ç§»æ‰€æœ‰æƒã€‚</p>
                            
                            <p><strong>storeSecret()</strong></p>
                            <p>è¿™æ˜¯æ‰€æœ‰è€…å°†å­—ç¬¦ä¸²å­˜å‚¨åœ¨é‡‘åº“ä¸­çš„æ–¹å¼ã€‚å®ƒåªæ¥å—æ¥è‡ªå½“å‰æ‰€æœ‰è€…ï¼ˆ<code class="inline-code">onlyOwner</code>ï¼‰çš„è°ƒç”¨ã€‚å°†ç§˜å¯†å­—ç¬¦ä¸²å­˜å‚¨åœ¨ç§æœ‰å˜é‡ <code class="inline-code">secret</code> ä¸­ã€‚å­˜å‚¨åè§¦å‘ä¸€ä¸ªäº‹ä»¶ã€‚æˆ‘ä»¬åœ¨è¿™é‡Œä½¿ç”¨ <code class="inline-code">calldata</code>ï¼Œå› ä¸ºåœ¨ä¼ é€’å­—ç¬¦ä¸²å‚æ•°æ—¶ï¼Œå®ƒåœ¨ gas ä¸Šæ›´ä¾¿å®œã€‚</p>
                            
                            <p><strong>getSecret()</strong></p>
                            <p>æ­¤å‡½æ•°å…è®¸æ‰€æœ‰è€…æ£€ç´¢å­˜å‚¨çš„ç§˜å¯†ã€‚è¿™æ˜¯ä¸€ä¸ª <code class="inline-code">view</code> å‡½æ•°ï¼Œå› æ­¤å¦‚æœä»å¤–éƒ¨ï¼ˆä¾‹å¦‚ä»å‰ç«¯ï¼‰è°ƒç”¨ï¼Œä¸ä¼šæ¶ˆè€— gasã€‚æ ‡è®°ä¸º <code class="inline-code">onlyOwner</code> ä»¥ç¡®ä¿éšç§â€”â€”å…¶ä»–ä»»ä½•äººéƒ½æ— æ³•çœ‹åˆ°ç§˜å¯†ã€‚</p>
                            
                            <p><strong>getDepositTime()</strong></p>
                            <p>è¿”å›é‡‘åº“éƒ¨ç½²çš„æ—¶é—´ã€‚å¯¹äºåŸºäºæ—¶é—´çš„åŠŸèƒ½å¾ˆæœ‰ç”¨â€”â€”ä¾‹å¦‚ï¼Œå¦‚æœä¸€ä¸ªç§˜å¯†åªåœ¨è‹¥å¹²å¤©åæ‰èƒ½è¢«æŸ¥çœ‹ã€‚</p>
                        </div>
                        
                        <h2>BasicDepositBox.sol â€” æœ€ç®€å•çš„æ‰©å±•</h2>
                        
                        <p>å¥½çš„ï¼Œæ—¢ç„¶æˆ‘ä»¬å·²ç»ç”¨ <code class="inline-code">BaseDepositBox</code> åˆçº¦æ„å»ºäº†åšå®çš„åŸºç¡€ï¼Œæ˜¯æ—¶å€™å¼€å§‹åˆ›å»ºç‰¹å®šç±»å‹çš„å­˜æ¬¾ç®±äº†ã€‚æˆ‘ä»¬ä»æœ€ç®€å•çš„å¼€å§‹ï¼š<code class="inline-code">BasicDepositBox</code>ã€‚</p>
                        
                        <pre><code class="language-solidity">// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "./BaseDepositBox.sol";

contract BasicDepositBox is BaseDepositBox {
    function getBoxType() external pure override returns (string memory) {
        return "Basic";
    }
}</code></pre>
                        
                        <div class="md-highlight">
                            <p>ä¹ä¸€çœ‹ï¼Œè¿™ä¸ªåˆçº¦çœ‹èµ·æ¥éå¸¸çŸ­â€”â€”ç¡®å®å¦‚æ­¤ã€‚ä½†åœ¨åå°ï¼Œå®ƒéå¸¸å¼ºå¤§ï¼Œå› ä¸ºå®ƒç»§æ‰¿äº† <code class="inline-code">BaseDepositBox</code> çš„æ‰€æœ‰å†…å®¹ã€‚</p>
                            
                            <p><strong>ç»§æ‰¿è‡ª BaseDepositBox</strong></p>
                            <p>æˆ‘ä»¬é¦–å…ˆå¯¼å…¥åŸºç¡€åˆçº¦ã€‚è¿™ä½¿ <code class="inline-code">BasicDepositBox</code> èƒ½å¤Ÿè®¿é—®åŸºç¡€åˆçº¦ä¸­å®šä¹‰çš„<strong>æ‰€æœ‰å†…å®¹</strong>ï¼šæ‰€æœ‰æƒç®¡ç†ã€ç§˜å¯†å­˜å‚¨å’Œæ£€ç´¢ã€å­˜å…¥æ—¶é—´è·Ÿè¸ªã€è®¿é—®æ§åˆ¶ä¿®é¥°ç¬¦ã€äº‹ä»¶ã€‚ç„¶åæˆ‘ä»¬åƒè¿™æ ·å®šä¹‰æ–°åˆçº¦ï¼š<code class="inline-code">contract BasicDepositBox is BaseDepositBox</code>ã€‚è¿™æ„å‘³ç€ï¼š"åˆ›å»ºä¸€ä¸ªæ–°åˆçº¦ï¼Œ<strong>ç»§æ‰¿</strong> <code class="inline-code">BaseDepositBox</code> çš„æ‰€æœ‰é€»è¾‘ã€‚"æ‰€ä»¥æˆ‘ä»¬ä¸éœ€è¦é‡å†™æ‰€æœ‰é‚£äº›é€»è¾‘â€”â€”æˆ‘ä»¬åªéœ€é‡å¤ä½¿ç”¨å®ƒã€‚è¿™å°±æ˜¯ Solidity ä¸­ç»§æ‰¿çš„åŠ›é‡ï¼šä½ å°†æ ¸å¿ƒåŠŸèƒ½åœ¨çˆ¶åˆçº¦ä¸­ç¼–å†™ä¸€æ¬¡ï¼Œç„¶ååœ¨å­åˆçº¦ä¸­æ ¹æ®éœ€è¦æ‰©å±•å®ƒä»¬ã€‚</p>
                            
                            <p><strong>getBoxType() â€” è¯†åˆ«é‡‘åº“ç±»å‹</strong></p>
                            <p>æ­¤åˆçº¦å®šä¹‰çš„å”¯ä¸€å‡½æ•°ï¼Œå®ƒæ˜¯ä¸ºäº†å±¥è¡Œå¯¹ <code class="inline-code">IDepositBox</code> æ¥å£çš„æ‰¿è¯ºã€‚<code class="inline-code">external</code>ï¼šæ­¤å‡½æ•°ä»…ç”¨äºä»åˆçº¦å¤–éƒ¨è°ƒç”¨ï¼ˆä¾‹å¦‚ï¼Œä»å¦ä¸€ä¸ªåˆçº¦æˆ–å‰ç«¯ï¼‰ã€‚<code class="inline-code">pure</code>ï¼šå®ƒä¸è¯»å–æˆ–å†™å…¥ä»»ä½•å­˜å‚¨â€”â€”å®ƒåªæ˜¯è¿”å›ä¸€ä¸ªç¡¬ç¼–ç çš„å­—ç¬¦ä¸²ã€‚<code class="inline-code">override</code>ï¼šå®ƒï¼ˆå½“å‰å‡½æ•°ï¼‰æ­£åœ¨é‡å†™åœ¨ <code class="inline-code">IDepositBox</code> ä¸­å£°æ˜çš„<strong>æŠ½è±¡</strong> <code class="inline-code">getBoxType()</code> å‡½æ•°ï¼ˆå¹¶ä¸”è¯¥å‡½æ•°åœ¨ <code class="inline-code">BaseDepositBox</code> ä¸­æœªè¢«å®ç°ï¼‰ã€‚<code class="inline-code">returns (string memory)</code>ï¼šå®ƒè¿”å›é‡‘åº“ç±»å‹â€”â€”åœ¨è¿™ç§æƒ…å†µä¸‹æ˜¯ <code class="inline-code">"Basic"</code>ã€‚</p>
                            
                            <p>ä¸ºä»€ä¹ˆæœ‰ç”¨ï¼Ÿå‡è®¾ä½ éƒ¨ç½²äº†è®¸å¤šé‡‘åº“â€”â€”åŸºç¡€å‹ã€é«˜çº§å‹å’Œæ—¶é—´é”å‹â€”â€”å¹¶ä¸”ä½ æƒ³çŸ¥é“æ¯ä¸ªé‡‘åº“æ˜¯ä»€ä¹ˆç±»å‹ã€‚ä½ å¯ä»¥ç®€å•åœ°è°ƒç”¨ <code class="inline-code">getBoxType()</code> å¹¶è·å–ä¸€ä¸ªäººå¯è¯»çš„æ ‡ç­¾ã€‚è¿™åœ¨æ„å»ºä»¥ä¸‹å†…å®¹æ—¶ç‰¹åˆ«æœ‰ç”¨ï¼šæ˜¾ç¤ºä½ é‡‘åº“çš„å‰ç«¯ä»ªè¡¨æ¿ã€<code class="inline-code">VaultManager</code> åˆçº¦ä¸­çš„æ’åºé€»è¾‘ã€é“¾ä¸Šåˆ†æã€‚</p>
                            
                            <p><strong>è¿™ä¸ªåˆçº¦å®é™…åšä»€ä¹ˆ</strong></p>
                            <p>è™½ç„¶åªæœ‰å‡ è¡Œä»£ç ï¼Œ<code class="inline-code">BasicDepositBox</code> ä¹Ÿä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªåŠŸèƒ½é½å…¨ã€å®‰å…¨ã€ç”±æ‰€æœ‰è€…æ§åˆ¶çš„å­˜æ¬¾ç®±ã€‚å®ƒå¯ä»¥ï¼šå­˜å‚¨ä¸€ä¸ªç§˜å¯†å­—ç¬¦ä¸²ï¼ˆåªæœ‰æ‰€æœ‰è€…å¯ä»¥è®¾ç½®æˆ–æ£€ç´¢å®ƒï¼‰ã€å°†æ‰€æœ‰æƒè½¬ç§»ç»™å…¶ä»–äººã€åœ¨å­˜å‚¨ç§˜å¯†æˆ–æ›´æ”¹æ‰€æœ‰è€…æ—¶è§¦å‘äº‹ä»¶ã€å°†å…¶è‡ªèº«é‡‘åº“ç±»å‹æŠ¥å‘Šä¸º <code class="inline-code">"Basic"</code>ã€‚æ‰€æœ‰è¿™äº›èƒ½åŠ›éƒ½æ¥è‡ª<strong>åŸºç¡€åˆçº¦</strong>â€”â€”æˆ‘ä»¬åªæ˜¯æ·»åŠ äº†ä¸€ä¸ªç‰¹å®šçš„æ ‡ç­¾æ¥è¯†åˆ«è¿™ç§ç±»å‹çš„é‡‘åº“ã€‚</p>
                        </div>
                        
                        <h2>PremiumDepositBox.sol â€” å…·å¤‡é¢å¤–çš„å…ƒæ•°æ®èƒ½åŠ›</h2>
                        
                        <p>è¿™æ¬¡ï¼Œæˆ‘ä»¬å†æ¬¡æ„å»ºåœ¨ <code class="inline-code">BaseDepositBox</code> ä¹‹ä¸Šâ€”â€”ä½†ç°åœ¨æˆ‘ä»¬ç»™å­˜æ¬¾ç®±<strong>ä¸€äº›é¢å¤–çš„ä¸œè¥¿</strong>ï¼šä¸€ä¸ªå«åš <code class="inline-code">metadata</code> çš„æ•°æ®ç‰‡æ®µã€‚å¯ä»¥å°†å…¶è§†ä¸ºä¸€ä¸ªä¸ªæ€§åŒ–çš„æ ‡ç­¾ã€æ ‡è®°æˆ–ä¿¡æ¯å­—æ®µï¼Œæ‰€æœ‰è€…å¯ä»¥è®¾ç½®å®ƒã€‚å®ƒå¯ä»¥æè¿°ç§˜å¯†çš„å†…å®¹ã€åº”è¯¥åœ¨ä½•æ—¶è®¿é—®ï¼Œæˆ–è€…ä»»ä½•ä½ æƒ³è¦é™„åŠ çš„æ³¨é‡Šã€‚</p>
                        
                        <pre><code class="language-solidity">// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "./BaseDepositBox.sol";

contract PremiumDepositBox is BaseDepositBox {
    string private metadata;

    event MetadataUpdated(address indexed owner);

    function getBoxType() external pure override returns (string memory) {
        return "Premium";
    }

    function setMetadata(string calldata _metadata) external onlyOwner {
        metadata = _metadata;
        emit MetadataUpdated(msg.sender);
    }

    function getMetadata() external view onlyOwner returns (string memory) {
        return metadata;
    }
}</code></pre>
                        
                        <div class="md-highlight">
                            <p><strong>ç»§æ‰¿å’Œå¯¼å…¥</strong></p>
                            <p>å’Œä¹‹å‰ä¸€æ ·ï¼Œæˆ‘ä»¬ä» <code class="inline-code">BaseDepositBox</code> å¯¼å…¥åŸºç¡€é€»è¾‘ã€‚è¿™ä½¿æˆ‘ä»¬èƒ½å¤Ÿè®¿é—®ï¼šæ‰€æœ‰æƒæ£€æŸ¥ã€ç§˜å¯†å­˜å‚¨ã€äº‹ä»¶è®°å½•ã€å­˜å…¥æ—¶é—´æˆ³ã€‚æˆ‘ä»¬é€šè¿‡å£°æ˜ <code class="inline-code">PremiumDepositBox</code> ä¸º <code class="inline-code">BaseDepositBox</code> çš„å­ç±»æ¥<strong>æ‰©å±•</strong>å®ƒã€‚è¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥<strong>é‡ç”¨æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½</strong>ï¼Œå¹¶åªå…³æ³¨è¿™ä¸ªç‰ˆæœ¬çš„ä¸åŒä¹‹å¤„â€”â€”å³å…ƒæ•°æ®ã€‚</p>
                            
                            <p><strong>metadata â€” ä¸€ä¸ªæ–°çš„ç§æœ‰å­—æ®µ</strong></p>
                            <p>æˆ‘ä»¬å¼•å…¥äº†ä¸€ä¸ªæ–°çš„çŠ¶æ€å˜é‡ï¼Œç§°ä¸º <code class="inline-code">metadata</code>ã€‚å®ƒè¢«æ ‡è®°ä¸º <code class="inline-code">private</code>ï¼Œè¿™æ„å‘³ç€åªæœ‰<strong>æ­¤åˆçº¦å†…</strong>çš„å‡½æ•°å¯ä»¥è¯»å–æˆ–ä¿®æ”¹å®ƒã€‚ï¼ˆæˆ‘ä»¬å°†ä¸ºæ‰€æœ‰è€…åˆ›å»ºå¤–éƒ¨è®¿é—®å‡½æ•°ã€‚ï¼‰è¿™å¯ä»¥ç”¨äºä»»ä½•ä¸œè¥¿â€”â€”æ¯”å¦‚ä¸€ä¸ªæ ‡ç­¾å¦‚"å¤‡ä»½å¯†é’¥"ï¼Œæˆ–è€…ä¸€ä¸ªæ³¨é‡Šå¦‚"é€€ä¼‘åè®¿é—®"ï¼Œç­‰ç­‰ã€‚</p>
                            
                            <p><strong>MetadataUpdated äº‹ä»¶</strong></p>
                            <p>å°±åƒå½“æœ‰äººå­˜å‚¨ç§˜å¯†æˆ–è½¬ç§»æ‰€æœ‰æƒæ—¶æˆ‘ä»¬ä¼šå‘å‡ºäº‹ä»¶ä¸€æ ·ï¼Œå½“æœ‰äººæ›´æ–°å…ƒæ•°æ®æ—¶æˆ‘ä»¬ä¹Ÿä¼šæ‰§è¡ŒåŒæ ·çš„äº‹æƒ…ã€‚å› ä¸ºï¼šå®ƒæœ‰åŠ©äºé“¾ä¸‹ç³»ç»Ÿï¼ˆå‰ç«¯ã€æµè§ˆå™¨ï¼‰è·Ÿè¸ªå˜åŒ–ã€å®ƒæé«˜äº†é€æ˜åº¦ã€å®ƒä½¿è°ƒè¯•æ›´å®¹æ˜“ã€‚æˆ‘ä»¬è¿˜å°† <code class="inline-code">owner</code> æ ‡è®°ä¸º <code class="inline-code">indexed</code>ï¼Œä»¥ä¾¿åœ¨æ—¥å¿—ä¸­ä¾¿äºè¿‡æ»¤æˆ–æœç´¢ã€‚</p>
                            
                            <p><strong>getBoxType() â€” è¯†åˆ«é‡‘åº“ç±»å‹</strong></p>
                            <p>å’Œä¹‹å‰ä¸€æ ·â€”â€”è¿™å‘Šè¯‰æˆ‘ä»¬è¿™æ˜¯ä»€ä¹ˆç±»å‹çš„å­˜æ¬¾ç®±ã€‚å®ƒè¿”å› <code class="inline-code">"Premium"</code>ï¼Œè¿™æœ‰åŠ©äºå…¶ä»–åˆçº¦æˆ–å‰ç«¯æ­£ç¡®è¯†åˆ«å’Œæ ‡è®°å®ƒã€‚è¿™æ˜¯ <code class="inline-code">IDepositBox</code> æ¥å£æ‰€è¦æ±‚çš„ï¼Œå¹¶å¸®åŠ©æˆ‘ä»¬åŒºåˆ†ä¸åŒçš„é‡‘åº“ç±»å‹ï¼ˆåŸºç¡€å‹ã€é«˜çº§å‹ã€æ—¶é—´é”å‹ï¼‰ã€‚</p>
                            
                            <p><strong>setMetadata() â€” æ‰€æœ‰è€…å¯ä»¥è¯»å–</strong></p>
                            <p><code class="inline-code">external</code>ï¼šåªèƒ½ä»åˆçº¦å¤–éƒ¨è°ƒç”¨ï¼ˆä¸èƒ½ä»å†…éƒ¨è°ƒç”¨ï¼‰ã€‚<code class="inline-code">onlyOwner</code>ï¼šä½¿ç”¨æˆ‘ä»¬ä» <code class="inline-code">BaseDepositBox</code> ç»§æ‰¿çš„ä¿®é¥°ç¬¦æ¥é™åˆ¶è®¿é—®â€”â€”åªæœ‰é‡‘åº“æ‰€æœ‰è€…å¯ä»¥æ›´æ–°å…ƒæ•°æ®ã€‚<code class="inline-code">string calldata _metadata</code>ï¼šæ–°çš„å…ƒæ•°æ®å€¼ä½œä¸ºå‚æ•°ä¼ å…¥ã€‚<code class="inline-code">metadata = _metadata</code>ï¼šæˆ‘ä»¬æ›´æ–°å­˜å‚¨çš„å€¼ã€‚<code class="inline-code">emit MetadataUpdated(msg.sender)</code>ï¼šæˆ‘ä»¬è®°å½•å˜æ›´ä»¥ç¡®ä¿é€æ˜åº¦ã€‚è¿™ä¸ºæ‰€æœ‰è€…æä¾›äº†ä¸€ç§å¯ä»¥å°†æ³¨é‡Šã€ç±»åˆ«æˆ–æ ‡ç­¾é™„åŠ åˆ°ä»–ä»¬çš„é‡‘åº“ä¸Šçš„æ–¹æ³•ã€‚</p>
                            
                            <p><strong>getMetadata() â€” æ‰€æœ‰è€…å¯ä»¥è¯»å–å®ƒ</strong></p>
                            <p>æ­¤å‡½æ•°å…è®¸æ‰€æœ‰è€…<strong>æ£€ç´¢</strong>ä»–ä»¬ä¹‹å‰å­˜å‚¨çš„å…ƒæ•°æ®ã€‚å®ƒæ˜¯ <code class="inline-code">view</code>ï¼Œå› ä¸ºå®ƒåªæ˜¯ä»å­˜å‚¨ä¸­è¯»å–è€Œä¸æ”¹å˜ä»»ä½•ä¸œè¥¿ã€‚åŒæ ·ï¼Œå®ƒå—åˆ° <code class="inline-code">onlyOwner</code> çš„ä¿æŠ¤â€”â€”å…¶ä»–ä»»ä½•äººéƒ½çœ‹ä¸åˆ°ä½ å†™çš„å†…å®¹ã€‚</p>
                        </div>
                        
                        <h2>TimeLockedDepositBox.sol â€” æš‚æ—¶æ— æ³•æ‰“å¼€çš„é‡‘åº“</h2>
                        
                        <p>è¿™ä¸ªåˆçº¦å¼•å…¥äº†ä¸€ä¸ªè½¬æŠ˜ï¼š<strong>ä½ å¯ä»¥å­˜å‚¨ä¸€ä¸ªç§˜å¯†ï¼Œä½†åœ¨ç‰¹å®šæ—¶é—´è¿‡å»ä¹‹å‰ä½ æ— æ³•æ£€ç´¢å®ƒ</strong>ã€‚è¿™å°±åƒä¸€ä¸ªæ•°å­—é‡‘åº“ï¼Œåœ¨ä¸€æ®µè®¾å®šçš„æ—¶é—´å†…ä¿æŒé”å®šâ€”â€”æ— è®ºä½ å¤šä¹ˆæƒ³æ‰“å¼€å®ƒï¼Œä½ éƒ½å¿…é¡»ç­‰å¾…ã€‚æˆ‘ä»¬å†æ¬¡ä»æˆ‘ä»¬ä¿¡ä»»çš„ <code class="inline-code">BaseDepositBox</code> ç»§æ‰¿ï¼Œä½†è¿™æ¬¡æˆ‘ä»¬æ·»åŠ äº†<strong>å®šæ—¶é€»è¾‘</strong>æ¥æ§åˆ¶ç§˜å¯†ä½•æ—¶å˜å¾—å¯è®¿é—®ã€‚</p>
                        
                        <pre><code class="language-solidity">// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "./BaseDepositBox.sol";

contract TimeLockedDepositBox is BaseDepositBox {
    uint256 private unlockTime;

    constructor(uint256 lockDuration) {
        unlockTime = block.timestamp + lockDuration;
    }

    modifier timeUnlocked() {
        require(block.timestamp >= unlockTime, "Box is still time-locked");
        _;
    }

    function getBoxType() external pure override returns (string memory) {
        return "TimeLocked";
    }

    function getSecret() public view override onlyOwner timeUnlocked returns (string memory) {
        return super.getSecret();
    }

    function getUnlockTime() external view returns (uint256) {
        return unlockTime;
    }

    function getRemainingLockTime() external view returns (uint256) {
        if (block.timestamp >= unlockTime) return 0;
        return unlockTime - block.timestamp;
    }
}</code></pre>
                        
                        <div class="md-highlight">
                            <p><strong>ç»§æ‰¿å’Œå¯¼å…¥</strong></p>
                            <p>å°±åƒ <code class="inline-code">BasicDepositBox</code> å’Œ <code class="inline-code">PremiumDepositBox</code> ä¸€æ ·ï¼Œæˆ‘ä»¬ä» <code class="inline-code">BaseDepositBox</code> å¯¼å…¥å…±äº«åŸºç¡€é€»è¾‘ã€‚æˆ‘ä»¬ç»§æ‰¿äº†æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½ï¼šæ‰€æœ‰è€…è·Ÿè¸ªã€ç§˜å¯†å­˜å‚¨ã€å­˜å…¥æ—¶é—´ã€äº‹ä»¶æ—¥å¿—è®°å½•ã€‚æˆ‘ä»¬è¿˜ä¼šåœ¨æ­¤åŸºç¡€ä¸Šæ·»åŠ æ—¶é—´é”åŠŸèƒ½ã€‚</p>
                            
                            <p><strong>unlockTime â€” é”å®šè®¡æ—¶å™¨</strong></p>
                            <p>æ­¤å˜é‡å­˜å‚¨äº†ç§˜å¯†å¯è®¿é—®æ—¶çš„<strong>æ—¶é—´æˆ³</strong>ã€‚å®ƒæ˜¯ <code class="inline-code">private</code>ï¼Œæ„å‘³ç€æ²¡æœ‰äººå¯ä»¥ç›´æ¥è®¿é—®å®ƒâ€”â€”ä½†æˆ‘ä»¬ä¼šé€šè¿‡ getter å‡½æ•°å…¬å¼€å®ƒã€‚</p>
                            
                            <p><strong>æ„é€ å‡½æ•° â€” é”å®šäº‹åŠ¡</strong></p>
                            <p>å½“åˆçº¦éƒ¨ç½²æ—¶ï¼Œæ„é€ å‡½æ•°ä¼šé‡‡ç”¨ä¸€ä¸ªæ•°å­—ï¼š<code class="inline-code">lockDuration</code>ï¼Œä»¥<strong>ç§’</strong>ä¸ºå•ä½ã€‚å®ƒå°†è¿™ä¸ªæŒç»­æ—¶é—´åŠ åˆ°å½“å‰æ—¶é—´æˆ³ï¼ˆ<code class="inline-code">block.timestamp</code>ï¼‰ä¸Šï¼Œå¹¶å°†å…¶è®¾ç½®ä¸º <code class="inline-code">unlockTime</code>ã€‚æ‰€ä»¥å¦‚æœä½ ä¼ å…¥ <code class="inline-code">3600</code>ï¼ˆ1 å°æ—¶ï¼‰ï¼Œç§˜å¯†å°†ä»éƒ¨ç½²èµ·é”å®š 1 å°æ—¶ã€‚è¿™ä½¿å¾—åˆçº¦éå¸¸çµæ´»â€”â€”ä½ å¯ä»¥å°†ç§˜å¯†é”å®šå‡ åˆ†é’Ÿã€å‡ å°æ—¶ã€å‡ å¤©æˆ–å‡ å¹´ã€‚</p>
                            
                            <p><strong>timeUnlocked ä¿®é¥°ç¬¦ â€” è®¿é—®å®ˆé—¨å‘˜</strong></p>
                            <p>è¿™æ˜¯ä¸€ä¸ª<strong>è‡ªå®šä¹‰ä¿®é¥°ç¬¦</strong>â€”â€”å°±åƒ <code class="inline-code">onlyOwner</code> ä¸€æ ·â€”â€”ä½†å®ƒä¼šæ£€æŸ¥å½“å‰æ—¶é—´æ˜¯å¦å·²è¶…è¿‡è§£é”æ—¶é—´ã€‚å¦‚æœæ²¡æœ‰ï¼Œå‡½æ•°è°ƒç”¨å°†è¢«æ‹’ç»å¹¶æŠ¥é”™ã€‚æˆ‘ä»¬ä¼šåœ¨ä»»ä½•åº”å—æ—¶é—´é”ä¿æŠ¤çš„å‡½æ•°ä¸Šä½¿ç”¨è¿™ä¸ªä¿®é¥°ç¬¦ã€‚</p>
                            
                            <p><strong>getBoxType()</strong></p>
                            <p>å°±åƒå…¶ä»–å­˜æ¬¾ç®±ç±»å‹ä¸€æ ·ï¼Œè¿™æœ‰åŠ©äºæˆ‘ä»¬è¯†åˆ«è¿™æ˜¯å“ªç§å­˜æ¬¾ç®±ã€‚å®ƒè¿”å›å­—ç¬¦ä¸² <code class="inline-code">"TimeLocked"</code> å¹¶å®ç° <code class="inline-code">IDepositBox</code> æ¥å£ã€‚</p>
                            
                            <p><strong>getSecret() â€” ä½†ä»…åœ¨é”å®šä¹‹å</strong></p>
                            <p>è¿™ä¸ªå‡½æ•°é‡å†™äº† <code class="inline-code">BaseDepositBox</code> ä¸­çš„å¸¸è§„å‡½æ•° <code class="inline-code">getSecret()</code>ã€‚ä½†ç°åœ¨ï¼Œå®ƒå¢åŠ äº†<strong>ä¸¤ä¸ª</strong>è®¿é—®æ£€æŸ¥ï¼š1. <code class="inline-code">onlyOwner</code>ï¼šåªæœ‰é‡‘åº“æ‰€æœ‰è€…å¯ä»¥æŸ¥çœ‹ç§˜å¯†ã€‚2. <code class="inline-code">timeUnlocked</code>ï¼šåªæœ‰åœ¨è§£é”æ—¶é—´è¿‡å»åã€‚ç„¶åå®ƒè°ƒç”¨ <code class="inline-code">super.getSecret()</code> ä»åŸºç¡€åˆçº¦ä¸­æ£€ç´¢å®é™…ç§˜å¯†ã€‚è¿™ç§åˆ†å±‚ä¿æŒäº†ä»£ç çš„æ•´æ´ï¼Œå¹¶é¿å…äº†é€»è¾‘é‡å¤ã€‚</p>
                            
                            <p><strong>getUnlockTime() â€” ä½•æ—¶è§£é”ï¼Ÿ</strong></p>
                            <p>è¿™æ˜¯ä¸€ä¸ªç®€å•çš„ getter å‡½æ•°ï¼Œå®ƒå¯ä»¥å‘Šè¯‰æ‚¨ç›’å­è§£é”çš„<strong>ç¡®åˆ‡æ—¶é—´æˆ³</strong>ã€‚å¯¹äºå‰ç«¯å’Œæ˜¾ç¤ºç›®çš„å¾ˆæœ‰ç”¨ã€‚</p>
                            
                            <p><strong>getRemainingLockTime() â€” å€’è®¡æ—¶åŠ©æ‰‹</strong></p>
                            <p>è¿™æ˜¯å¦ä¸€ä¸ªå¯¹å‰ç«¯å‹å¥½çš„åŠ©æ‰‹ã€‚å¦‚æœå½“å‰æ—¶é—´å·²ç»è¶…è¿‡äº†è§£é”æ—¶é—´ï¼Œæˆ‘ä»¬è¿”å› <code class="inline-code">0</code>ã€‚å¦åˆ™ï¼Œæˆ‘ä»¬ä» <code class="inline-code">unlockTime</code> ä¸­å‡å» <code class="inline-code">now</code> çš„æ—¶é—´ï¼Œå¹¶è¿”å›é‡‘åº“å¯æ‰“å¼€æ‰€éœ€çš„<strong>å‰©ä½™ç§’æ•°</strong>ã€‚å¯¹äºåœ¨ä½ çš„ UI ä¸­åˆ›å»ºå€’è®¡æ—¶ã€è®¡æ—¶å™¨æˆ–å¯è§†åŒ–è¿›åº¦æ¡éå¸¸æœ‰ç”¨ã€‚</p>
                        </div>
                        
                        <h2>VaultManager â€” ä½ çš„é‡‘åº“ä»ªè¡¨æ¿</h2>
                        
                        <p>è¿™ä¸ªåˆçº¦å……å½“<strong>æ§åˆ¶ä¸­å¿ƒ</strong>ï¼Œä¾›ç”¨æˆ·åˆ›å»ºã€å‘½åã€ç®¡ç†å’Œä¸ä»–ä»¬çš„å­˜æ¬¾ç®±äº¤äº’ã€‚å¯ä»¥å°†å…¶è§†ä¸ºä½ çš„<strong>é‡‘åº“åº”ç”¨åç«¯</strong>ï¼šå®ƒå…è®¸ç”¨æˆ·åˆ›å»ºä¸åŒç±»å‹çš„å­˜æ¬¾ç®±ï¼ˆåŸºç¡€å‹ã€é«˜çº§å‹ã€æ—¶é—´é”å‹ï¼‰ã€‚å®ƒè·Ÿè¸ªå“ªä¸ªç”¨æˆ·æ‹¥æœ‰å“ªä¸ªå­˜æ¬¾ç®±ã€‚å®ƒå¼ºåˆ¶æ‰§è¡Œæ‰€æœ‰æƒè§„åˆ™ã€‚å®ƒæä¾›å‘½åå’Œæ£€ç´¢å­˜æ¬¾ç®±ä¿¡æ¯çš„è¾…åŠ©å‡½æ•°ã€‚</p>
                        
                        <pre><code class="language-solidity">// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

import "./IDepositBox.sol";
import "./BasicDepositBox.sol";
import "./PremiumDepositBox.sol";
import "./TimeLockedDepositBox.sol";

contract VaultManager {
    mapping(address => address[]) private userDepositBoxes;
    mapping(address => string) private boxNames;

    event BoxCreated(address indexed owner, address indexed boxAddress, string boxType);
    event BoxNamed(address indexed boxAddress, string name);

    function createBasicBox() external returns (address) {
        BasicDepositBox box = new BasicDepositBox();
        userDepositBoxes[msg.sender].push(address(box));
        emit BoxCreated(msg.sender, address(box), "Basic");
        return address(box);
    }

    function createPremiumBox() external returns (address) {
        PremiumDepositBox box = new PremiumDepositBox();
        userDepositBoxes[msg.sender].push(address(box));
        emit BoxCreated(msg.sender, address(box), "Premium");
        return address(box);
    }

    function createTimeLockedBox(uint256 lockDuration) external returns (address) {
        TimeLockedDepositBox box = new TimeLockedDepositBox(lockDuration);
        userDepositBoxes[msg.sender].push(address(box));
        emit BoxCreated(msg.sender, address(box), "TimeLocked");
        return address(box);
    }

    function nameBox(address boxAddress, string calldata name) external {
        IDepositBox box = IDepositBox(boxAddress);
        require(box.getOwner() == msg.sender, "Not the box owner");

        boxNames[boxAddress] = name;
        emit BoxNamed(boxAddress, name);
    }

    function storeSecret(address boxAddress, string calldata secret) external {
        IDepositBox box = IDepositBox(boxAddress);
        require(box.getOwner() == msg.sender, "Not the box owner");

        box.storeSecret(secret);
    }

    function transferBoxOwnership(address boxAddress, address newOwner) external {
        IDepositBox box = IDepositBox(boxAddress);
        require(box.getOwner() == msg.sender, "Not the box owner");

        box.transferOwnership(newOwner);

        address[] storage boxes = userDepositBoxes[msg.sender];
        for (uint i = 0; i < boxes.length; i++) {
            if (boxes[i] == boxAddress) {
                boxes[i] = boxes[boxes.length - 1];
                boxes.pop();
                break;
            }
        }

        userDepositBoxes[newOwner].push(boxAddress);
    }

    function getUserBoxes(address user) external view returns (address[] memory) {
        return userDepositBoxes[user];
    }

    function getBoxName(address boxAddress) external view returns (string memory) {
        return boxNames[boxAddress];
    }

    function getBoxInfo(address boxAddress) external view returns (
        string memory boxType,
        address owner,
        uint256 depositTime,
        string memory name
    ) {
        IDepositBox box = IDepositBox(boxAddress);
        return (
            box.getBoxType(),
            box.getOwner(),
            box.getDepositTime(),
            boxNames[boxAddress]
        );
    }
}</code></pre>
                        
                        <div class="md-highlight">
                            <p><strong>å¯¼å…¥</strong></p>
                            <p><code class="inline-code">IDepositBox</code>ï¼šæˆ‘ä»¬ç”¨æ¥ä»¥ç»Ÿä¸€æ–¹å¼ä¸æ‰€æœ‰ç±»å‹å­˜æ¬¾ç®±äº¤äº’çš„æ¥å£ã€‚å…¶ä»–ä¸‰ä¸ªæ˜¯å…·ä½“å®ç°ï¼ˆå®é™…å¯éƒ¨ç½²çš„åˆçº¦ï¼‰ã€‚<strong>ä¸ºä»€ä¹ˆè¦ä½¿ç”¨æ¥å£ï¼Ÿ</strong>å› ä¸ºå®ƒè®©æˆ‘ä»¬ä»¥ç›¸åŒçš„æ–¹å¼å¤„ç†æ¯ä¸ªå­˜æ¬¾ç®±ï¼Œæ— è®ºå…¶å…·ä½“ç±»å‹å¦‚ä½•ã€‚æ‰€æœ‰å­˜æ¬¾ç®±éƒ½éµå¾ªç›¸åŒçš„è§„åˆ™ï¼ˆ<code class="inline-code">getOwner()</code>ã€<code class="inline-code">storeSecret()</code> ç­‰ï¼‰ï¼Œæ‰€ä»¥å½“æˆ‘ä»¬è°ƒç”¨è¿™äº›å…±äº«å‡½æ•°æ—¶ï¼Œä¸éœ€è¦åœ¨æ„å­˜æ¬¾ç®±æ˜¯ä»€ä¹ˆç±»å‹ã€‚</p>
                            
                            <p><strong>çŠ¶æ€å˜é‡</strong></p>
                            <ul>
                                <li><code class="inline-code">userDepositBoxes</code>ï¼šå°†ç”¨æˆ·çš„åœ°å€æ˜ å°„åˆ°å…¶æ‹¥æœ‰çš„æ‰€æœ‰å­˜æ¬¾ç®±ï¼ˆä½œä¸ºåˆçº¦åœ°å€ï¼‰ã€‚</li>
                                <li><code class="inline-code">boxNames</code>ï¼šå…è®¸ç”¨æˆ·ä¸ºæ¯ä¸ªé‚®ç®±åˆ†é…è‡ªå®šä¹‰åç§°ã€‚æŒ‰é‚®ç®±åœ°å€å­˜å‚¨ã€‚</li>
                            </ul>
                            
                            <p><strong>äº‹ä»¶</strong></p>
                            <ul>
                                <li><code class="inline-code">BoxCreated</code>ï¼šæ¯æ¬¡ç”¨æˆ·åˆ›å»ºæ–°å­˜æ¬¾ç®±æ—¶è§¦å‘ã€‚</li>
                                <li><code class="inline-code">BoxNamed</code>ï¼šå½“ç”¨æˆ·ç»™ä»–ä»¬çš„å­˜æ¬¾ç®±è‡ªå®šä¹‰åç§°æ—¶è§¦å‘ã€‚</li>
                            </ul>
                            <p>è¿™äº›æœ‰åŠ©äºå‰ç«¯å’Œæµè§ˆå™¨æ˜¾ç¤ºå‘ç”Ÿçš„æ“ä½œã€‚</p>
                            
                            <p><strong>createBasicBox åˆ›å»ºåŸºç¡€å­˜æ¬¾ç®±</strong></p>
                            <p><code class="inline-code">BasicDepositBox box = new BasicDepositBox();</code>ï¼šè¿™è¡Œä»£ç <strong>éƒ¨ç½²ä¸€ä¸ªæ–°çš„ BasicDepositBox åˆçº¦</strong>å¹¶å°†å…¶åœ°å€å­˜å‚¨åœ¨å˜é‡ <code class="inline-code">box</code> ä¸­ã€‚<code class="inline-code">userDepositBoxes[msg.sender].push(...)</code>ï¼šå°†æ–°å­˜æ¬¾ç®±æ·»åŠ åˆ°å‘é€è€…æ‹¥æœ‰çš„å­˜æ¬¾ç®±åˆ—è¡¨ä¸­ã€‚è§¦å‘ä¸€ä¸ªäº‹ä»¶ï¼Œä»¥ä¾¿ UI å¯ä»¥è·Ÿè¸ªæ­¤åˆ›å»ºã€‚è¿”å›æ–°å­˜æ¬¾ç®±çš„åœ°å€ä»¥ä¾¿äºè®¿é—®ã€‚è¿™å°±æ˜¯ç”¨æˆ·ä¸ºè‡ªå·±"é“¸é€ "ä¸€ä¸ªæ–°æ•°å­—å­˜æ¬¾ç®±çš„æ–¹å¼ã€‚</p>
                            
                            <p><strong>createPremiumBox() â€” é€‚ç”¨äºæƒ³è¦å­˜å‚¨é¢å¤–å…ƒæ•°æ®çš„ç”¨æˆ·</strong></p>
                            <p>å…è®¸ç”¨æˆ·åˆ›å»ºä¸€ä¸ªæ–°çš„ <strong>PremiumDepositBox</strong> â€”â€” ä¸€ç§ç‰¹æ®Šç±»å‹çš„å­˜æ¬¾ç®±ï¼Œé€šè¿‡ <code class="inline-code">setMetadata()</code> å‡½æ•°æ”¯æŒé¢å¤–æ•°æ®ã€‚éƒ¨ç½²æ–°çš„ PremiumDepositBoxï¼šè¿™è¡Œä»£ç <strong>åˆ›å»ºäº†ä¸€ä¸ªå…¨æ–°çš„åˆçº¦</strong> <code class="inline-code">PremiumDepositBox</code>ã€‚åå°æ˜¯è¿™æ ·çš„ï¼šç»§æ‰¿è‡ª <code class="inline-code">BaseDepositBox</code>ï¼Œä»è€Œè·å¾—è·å¾—æ‰€æœ‰æƒã€ç§˜å¯†å­˜å‚¨ã€å­˜å…¥æ—¶é—´ç­‰ä¿¡æ¯ã€‚æ·»åŠ ä¸€ä¸ªåä¸º <code class="inline-code">metadata</code> çš„æ–°çŠ¶æ€å˜é‡ä»¥ä¾¿æ›´æ–°/æ£€ç´¢ã€‚å½“è¿™è¡Œä»£ç è¿è¡Œæ—¶ï¼Œåˆçº¦è¢«<strong>éƒ¨ç½²åœ¨é“¾ä¸Š</strong>ï¼Œè°ƒç”¨ <code class="inline-code">createPremiumBox()</code> çš„ç”¨æˆ·æˆä¸ºè¯¥å­˜æ¬¾ç®±çš„æ‰€æœ‰è€…ï¼ˆæ„Ÿè°¢æ„é€ å‡½æ•° <code class="inline-code">BaseDepositBox</code>ï¼‰ã€‚å°†å­˜æ¬¾ç®±ä¿å­˜åœ¨ç”¨æˆ·çš„å­˜æ¬¾ç®±åˆ—è¡¨ä¸­ï¼šä½¿ç”¨ <code class="inline-code">address(box)</code> å°†åˆçº¦è½¬æ¢ä¸ºå…¶åœ°å€ï¼Œå°†è¯¥åœ°å€æ·»åŠ åˆ°åˆ›å»ºå®ƒçš„ç”¨æˆ·çš„ <code class="inline-code">userDepositBoxes</code> æ˜ å°„ä¸­ã€‚è¿™ç¡®ä¿äº†å½“ç”¨æˆ·ç¨åæƒ³æ£€ç´¢ä»–ä»¬å…¨éƒ¨å­˜æ¬¾ç®±æ—¶ï¼Œè¿™ä¸ªå­˜æ¬¾ç®±ä¼šå‡ºç°ã€‚ä¸ºå‰ç«¯å’Œè·Ÿè¸ªè§¦å‘äº‹ä»¶ï¼šè¿™ä¼šè§¦å‘ä¸€ä¸ª <code class="inline-code">BoxCreated</code> äº‹ä»¶ï¼Œè®°å½•ï¼šåˆ›å»ºå­˜æ¬¾ç®±çš„ç”¨æˆ·ã€æ–°åˆçº¦çš„åœ°å€ã€å­—ç¬¦ä¸² <code class="inline-code">"Premium"</code>ï¼Œä¾¿äº UI çŸ¥é“å®ƒæ˜¯å“ªç§ç±»å‹çš„å­˜æ¬¾ç®±ã€‚è¿™æœ‰åŠ©äºé’±åŒ…ã€ä»ªè¡¨ç›˜å’ŒåŒºå—é“¾æµè§ˆå™¨å±•ç¤ºç›¸å…³æ´»åŠ¨ï¼Œè€Œæ— éœ€æ‰‹åŠ¨ç´¢å¼•é“¾ä¸Šæ•°æ®ã€‚è¿”å›å­˜æ¬¾ç®±åœ°å€ï¼šæœ€åï¼Œæˆ‘ä»¬è¿”å›æ–°åˆ›å»ºçš„å­˜æ¬¾ç®±çš„åœ°å€ï¼Œä»¥ä¾¿å‰ç«¯ï¼ˆæˆ–è°ƒç”¨ä»£ç ï¼‰å¯ä»¥ç«‹å³ä¸å…¶äº¤äº’ã€‚</p>
                            
                            <p><strong>createTimeLockedBox() â€” é€‚ç”¨äºä½ ä¸æƒ³ç«‹å³æ‰“å¼€çš„é‡‘åº“</strong></p>
                            <p>è¿™ä¸ªå‡½æ•°å…è®¸ç”¨æˆ·åˆ›å»ºä¸€ä¸ª<strong>æ—¶é—´é”å­˜æ¬¾ç®±</strong> â€”â€” ä¸€ä¸ªè¡Œä¸ºå°±åŸºç¡€é‡‘åº“ä¸€æ ·çš„æ™ºèƒ½åˆçº¦ï¼Œ<strong>ä½†æœ‰ä¸€ä¸ªå…³é”®çš„åŒºåˆ«</strong>ï¼šå­˜å‚¨åœ¨é‡Œé¢çš„ç§˜å¯†åªæœ‰åœ¨ç»è¿‡ä¸€å®šæ—¶é—´åæ‰èƒ½è¢«è®¿é—®ã€‚æ¥å—é”å®šæŒç»­æ—¶é—´ï¼šè¿™ä¸ªå‡½æ•°è®¾å®šä¸€ä¸ªæ•°å­—ï¼š<code class="inline-code">lockDuration</code> â€”â€” ä»£è¡¨é‡‘åº“åº”è¯¥è¢«é”å®šçš„<strong>ç§’æ•°</strong>ã€‚ä¾‹å¦‚ï¼Œå¦‚æœ <code class="inline-code">lockDuration = 3600</code>ï¼Œé‡‘åº“å°†è¢«é”å®š <strong>1 å°æ—¶</strong>ã€‚åœ¨æ­¤æœŸé—´ï¼Œæ‰€æœ‰è€…å¯ä»¥<strong>å­˜å‚¨ç§˜å¯†</strong>ï¼Œä½†ä»–ä»¬åœ¨é”å®šåˆ°æœŸ<strong>ä¹‹å‰æ— æ³•æŸ¥çœ‹å®ƒ</strong>ã€‚è¿™éå¸¸é€‚åˆä»¥ä¸‹æƒ…å†µï¼šæ—¶é—´èƒ¶å›Šã€å»¶è¿Ÿæ˜¾ç¤ºæ¶ˆæ¯ã€æœªæ¥çš„ç¤¼ç‰©æˆ–æ‰¿è¯ºã€‚éƒ¨ç½² TimeLockedDepositBoxï¼šè¿™è¡Œä»£ç åˆ›å»ºäº†ä¸€ä¸ªæ–°å®ä¾‹ <code class="inline-code">TimeLockedDepositBox</code>ï¼Œä¼ é€’ <code class="inline-code">lockDuration</code>ã€‚åœ¨ <code class="inline-code">TimeLockedDepositBox</code> æ„é€ å‡½æ•°å†…éƒ¨ï¼Œè¿™ä¸ªé”å®šæŒç»­æ—¶é—´è¢«åŠ åˆ°å½“å‰åŒºå—æ—¶é—´æˆ³ä¸Šï¼Œå› æ­¤å­˜æ¬¾ç®±ä¼šæ ¹æ®åŒºå—é“¾æ—¶é—´è·Ÿè¸ª<strong>ä½•æ—¶å¯ä»¥å®‰å…¨è§£é”</strong>ã€‚éƒ¨ç½²è€…ï¼ˆ<code class="inline-code">msg.sender</code>ï¼‰è‡ªåŠ¨æˆä¸ºæ‰€æœ‰è€…â€”â€”å¾—ç›Šäºç»§æ‰¿è‡ª <code class="inline-code">BaseDepositBox</code>ã€‚å°†å­˜æ¬¾ç®±ä¿å­˜åœ¨ç”¨æˆ·è´¦æˆ·ä¸‹ï¼šå°†æ–°å­˜æ¬¾ç®±çš„åœ°å€æ·»åŠ åˆ°è°ƒç”¨è€…åœ¨ <code class="inline-code">userDepositBoxes</code> æ˜ å°„ä¸­å­˜å‚¨çš„å­˜æ¬¾ç®±åˆ—è¡¨ä¸­ã€‚è¿™ä½¿å¾—æ¯ä¸ªç”¨æˆ·éƒ½å¯ä»¥ç»´æŠ¤ä¸€ä¸ªç”±å¤šä¸ªå­˜æ¬¾ç®±ç»„æˆçš„ä¸ªäºº"é‡‘åº“"ã€‚åˆçº¦è·Ÿè¸ªè°æ‹¥æœ‰å“ªä¸ªå­˜æ¬¾ç®±ï¼Œä½†ä¸ä¼šåœ¨é“¾ä¸Šå­˜å‚¨å®Œæ•´çš„ç”¨æˆ·æ•°æ®ã€‚è§¦å‘ <code class="inline-code">BoxCreated</code> äº‹ä»¶ï¼šäº‹ä»¶æ˜¯ dApp åœ¨ä¸æŒç»­æŸ¥è¯¢æ™ºèƒ½åˆçº¦çŠ¶æ€çš„æƒ…å†µä¸‹è·Ÿè¸ªé“¾ä¸Šæ“ä½œçš„å…³é”®éƒ¨åˆ†ã€‚è¿™å°†è®°å½•æ–°å­˜æ¬¾ç®±çš„åˆ›å»ºï¼ŒåŒ…æ‹¬ï¼šè°åˆ›å»ºäº†å®ƒã€å®ƒçš„åˆçº¦åœ°å€ã€å­˜æ¬¾ç®±ç±»å‹ï¼š<code class="inline-code">"TimeLocked"</code>ã€‚å‰ç«¯å¯ä»¥ä½¿ç”¨å®ƒåœ¨ UI ä¸­æ˜¾ç¤º"æ–°çš„æ—¶é—´é”é‡‘åº“å·²åˆ›å»º"æˆ–å°†å…¶æ˜¾ç¤ºåœ¨ç”¨æˆ·æ´»åŠ¨åé¦ˆä¸­ã€‚è¿”å›åœ°å€ï¼šæœ€åï¼Œå‡½æ•°è¿”å›æ–°éƒ¨ç½²åˆçº¦çš„åœ°å€ï¼Œä»¥ä¾¿è°ƒç”¨è€…ï¼ˆæˆ–å‰ç«¯ï¼‰å¯ä»¥ç«‹å³å¼€å§‹ä¸å…¶äº¤äº’ã€‚</p>
                            
                            <p><strong>nameBox</strong></p>
                            <p>é¦–å…ˆï¼Œæˆ‘ä»¬<strong>å°†é€šç”¨åœ°å€è½¬æ¢ä¸ºæ¥å£</strong>ï¼š<code class="inline-code">IDepositBox box = IDepositBox(boxAddress);</code>è¿™è®©æˆ‘ä»¬å¯ä»¥åœ¨å­˜æ¬¾ç®±ä¸Šè°ƒç”¨ <code class="inline-code">getOwner()</code>ï¼Œè€Œæ— éœ€çŸ¥é“å®ƒæ˜¯ä»€ä¹ˆç±»å‹ã€‚ç„¶åæˆ‘ä»¬<strong>æ£€æŸ¥æ‰€æœ‰æƒ</strong>ï¼š<code class="inline-code">require(box.getOwner() == msg.sender, "Not the box owner");</code>è¿™ç¡®ä¿åªæœ‰åˆæ³•çš„æ‰€æœ‰è€…å¯ä»¥é‡å‘½åå­˜æ¬¾ç®±ã€‚æœ€åï¼Œæˆ‘ä»¬ä¿å­˜æ–°åç§°å¹¶è§¦å‘ä¸€ä¸ªäº‹ä»¶ã€‚</p>
                            
                            <p><strong>storeSecret</strong></p>
                            <p>ç›¸åŒçš„æ‰€æœ‰æƒæ¨¡å¼ã€‚è°ƒç”¨æ¥å£ä¸­çš„ <code class="inline-code">storeSecret()</code> å‡½æ•°ï¼Œæ­¤å‡½æ•°çš„å…·ä½“é€»è¾‘ç”±æ¯ç±»å­˜æ¬¾ç®±è‡ªè¡Œå®ç°ã€‚è¿™é‡Œæ²¡æœ‰è§¦å‘äº‹ä»¶ï¼Œå› ä¸ºå­˜æ¬¾ç®±æœ¬èº«ä¼šè§¦å‘ä¸€ä¸ªï¼ˆ<code class="inline-code">SecretStored</code>ï¼‰ã€‚</p>
                            
                            <p><strong>transferBoxOwnership() â€” ç§»äº¤å­˜æ¬¾ç®±</strong></p>
                            <p>è¿™ä¸ªå‡½æ•°å…è®¸å­˜æ¬¾ç®±çš„å½“å‰æ‰€æœ‰è€…<strong>å°†æ‰€æœ‰æƒè½¬ç§»ç»™å…¶ä»–äºº</strong>â€”â€”å°±åƒæŠŠå­˜æ¬¾ç®±çš„é’¥åŒ™äº¤ç»™æŸäººä¸€æ ·ã€‚å®ƒè¿˜ç¡®ä¿ <code class="inline-code">VaultManager</code> æ›´æ–°è‡ªå·±çš„è®°å½•ä»¥åæ˜ è¿™ä¸€å˜åŒ–ã€‚æ¥å£è½¬æ¢å’Œæ‰€æœ‰æƒæ£€æŸ¥ï¼šé¦–å…ˆï¼Œæˆ‘ä»¬è·å– <code class="inline-code">boxAddress</code>ï¼ˆè¿™åªæ˜¯åŒºå—é“¾ä¸Šçš„ä¸€ä¸ªå¸¸è§„åœ°å€ï¼‰ï¼Œå¹¶å°†å…¶<strong>è½¬æ¢</strong>ä¸º <code class="inline-code">IDepositBox</code> æ¥å£ç±»å‹ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥è°ƒç”¨åƒ <code class="inline-code">getOwner()</code> æˆ– <code class="inline-code">transferOwnership()</code> è¿™æ ·çš„å‡½æ•°â€”â€”å› ä¸ºæˆ‘ä»¬å·²ç»å‘Šè¯‰ Solidityï¼Œ"å˜¿ï¼Œç›¸ä¿¡æˆ‘ï¼Œè¿™ä¸ªåˆçº¦å®ç°äº† <code class="inline-code">IDepositBox</code> æ¥å£ã€‚"æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬éªŒè¯è°ƒç”¨æ­¤å‡½æ•°çš„äººæ˜¯å¦æ˜¯è¯¥å­˜æ¬¾ç®±çš„<strong>å½“å‰æ‰€æœ‰è€…</strong>ã€‚å¦‚æœä»–ä»¬ä¸æ˜¯æ‰€æœ‰è€…ï¼Œå‡½æ•°å°†å›æ»šã€‚ç¦æ­¢æœªç»æˆæƒçš„è½¬ç§»ã€‚è°ƒç”¨å­˜æ¬¾ç®±çš„ <code class="inline-code">transferOwnership()</code> æ–¹æ³•ï¼šè¿™è¡Œä»£ç ä¼šå‘ŠçŸ¥å­˜å‚¨ç®±åˆçº¦ï¼Œè®©å…¶æ›´æ–°è‡ªå·±çš„å†…éƒ¨ <code class="inline-code">owner</code> çŠ¶æ€ã€‚è¿™å¾ˆé‡è¦ï¼šçœŸæ­£çš„æ•°æ®æ‰€æœ‰æƒå’Œä¸šåŠ¡é€»è¾‘å½’å±äºå­˜å‚¨ç®±åˆçº¦â€”<strong>VaultManager ä¸æ˜¯å…¶æ‰€æœ‰è€…</strong>â€”å› æ­¤ï¼Œè¿™ä¸€æ­¥ç¡®ä¿äº†æƒé™å˜æ›´åœ¨å­˜å‚¨ç®±å†…éƒ¨è‡ªä¸»å®Œæˆã€‚æ›´æ–° VaultManager çš„æ˜ å°„ï¼šåœ¨<strong>å­˜å‚¨ç®±åˆçº¦å†…éƒ¨</strong>æ›´æ”¹æ‰€æœ‰æƒä¹‹åï¼Œæˆ‘ä»¬å¿…é¡»ç¡®ä¿ <code class="inline-code">VaultManager</code> çš„ <code class="inline-code">userDepositBoxes</code> æ˜ å°„ä¹Ÿåæ˜ è¿™ä¸€ç‚¹ã€‚å¦‚æœæˆ‘ä»¬ä¸æ›´æ–°æ­¤åˆ—è¡¨ï¼Œæˆ‘ä»¬çš„ç³»ç»Ÿå°†åœ¨å‰ç«¯æˆ– API ä¸­æ˜¾ç¤ºé”™è¯¯çš„æ‰€æœ‰è€…ã€‚ä»å‘é€è€…åˆ—è¡¨ä¸­ç§»é™¤å­˜å‚¨ç®±ï¼šæˆ‘ä»¬è·å–å‘é€è€…çš„å­˜å‚¨ç®±åˆ—è¡¨ã€‚æˆ‘ä»¬å¾ªç¯æŸ¥æ‰¾æ­£åœ¨è¢«è½¬ç§»çš„é‚£ä¸ªã€‚ä¸€æ—¦æ‰¾åˆ°ï¼šæˆ‘ä»¬<strong>å°†å®ƒä¸æ•°ç»„ä¸­çš„æœ€åä¸€é¡¹äº¤æ¢</strong>ã€‚ç„¶åè°ƒç”¨ <code class="inline-code">.pop()</code> æ¥åˆ é™¤æœ€åä¸€é¡¹ã€‚è¿™æ˜¯ä¸€ä¸ªç»å…¸çš„ Solidity æŠ€å·§ï¼Œç”¨äºä»æ•°ç»„ä¸­ç§»é™¤é¡¹ç›®è€Œä¸ç•™ç©ºä½ï¼ˆå› ä¸º Solidity æ•°ç»„ä¸æ”¯æŒ <code class="inline-code">.remove(index)</code>ï¼‰ã€‚å°†å­˜å‚¨ç®±æ·»åŠ åˆ°æ–°æ‰€æœ‰è€…çš„åˆ—è¡¨ï¼šéšåï¼Œæˆ‘ä»¬å°†è¯¥å­˜å‚¨ç®±å­˜å…¥æ–°æ‰€æœ‰è€…çš„ä¸ªäººå­˜å‚¨ç®±æ•°ç»„ä¸­â€”â€”è¿™æ­¥æ“ä½œåœ¨æˆ‘ä»¬çš„æ³¨å†Œè¡¨å†…å®Œæˆäº†æ‰€æœ‰æƒçš„è½¬ç§»ã€‚</p>
                            
                            <p><strong>getUserBoxes() â€” æŸ¥çœ‹ç”¨æˆ·æ‹¥æœ‰çš„æ‰€æœ‰å­˜å‚¨ç®±</strong></p>
                            <p>è¿™ä¸ªå‡½æ•°ä»…è¿”å›å±äºç‰¹å®šç”¨æˆ·çš„<strong>å­˜æ¬¾ç®±åœ°å€åˆ—è¡¨</strong>ã€‚æ¯æ¬¡æœ‰äººåˆ›å»ºä¸€ä¸ªå­˜æ¬¾ç®±ï¼ˆé€šè¿‡ <code class="inline-code">createBasicBox()</code>ã€<code class="inline-code">createPremiumBox()</code> æˆ– <code class="inline-code">createTimeLockedBox()</code>ï¼‰ï¼Œè¯¥æ–°åˆçº¦çš„åœ°å€å°±ä¼šå­˜å‚¨åœ¨ <code class="inline-code">userDepositBoxes</code> æ˜ å°„ä¸­ã€‚è¿™ä¸ªå‡½æ•°å…è®¸ä½ æ£€ç´¢åˆ°<strong>ä»»ä½•ç”¨æˆ·åœ°å€</strong>æ‰€å¯¹åº”çš„å­˜å‚¨ç®±åˆ—è¡¨ã€‚<code class="inline-code">userDepositBoxes[user]</code> å­˜å‚¨çš„è¯¥ç‰¹å®šç”¨æˆ·çš„åŠ¨æ€åœ°å€æ•°ç»„ã€‚ç”±äºå®ƒæ ‡è®°ä¸º <code class="inline-code">view</code>ï¼Œå®ƒæ˜¯<strong>åªè¯»çš„</strong>â€”â€”è°ƒç”¨è¿™ä¸ªå‡½æ•°<strong>ä¸æ¶ˆè€—ä»»ä½• gas</strong>ã€‚å®ƒè¿”å›ä¸€ä¸ªå®Œæ•´çš„æ•°ç»„ï¼Œå¯ä»¥åœ¨å‰ç«¯ç”¨æ¥åˆ—å‡ºç”¨æˆ·çš„æ‰€æœ‰é‡‘åº“ã€‚ä½¿ç”¨åœºæ™¯ï¼šéå¸¸é€‚åˆåˆ›å»ºåˆ—å‡ºç”¨æˆ·å­˜æ¬¾ç®±çš„ä»ªè¡¨æ¿æˆ–ä¸ªäººèµ„æ–™é¡µé¢ã€‚</p>
                            
                            <p><strong>getBoxName() â€” è¯»å–å­˜æ¬¾ç®±çš„è‡ªå®šä¹‰åç§°</strong></p>
                            <p>è¿”å›æ‰€æœ‰è€…ä¸ºç‰¹å®šå­˜æ¬¾ç®±æŒ‡å®šçš„<strong>è‡ªå®šä¹‰åç§°</strong>ã€‚æ­¤å‰ï¼Œç”¨æˆ·å¯ä»¥è°ƒç”¨ <code class="inline-code">nameBox(address, string)</code> ç»™ä»–ä»¬çš„å­˜æ¬¾ç®±è´´ä¸Šè‡ªå®šä¹‰æ ‡ç­¾ã€‚è¯¥æ ‡ç­¾å­˜å‚¨åœ¨ <code class="inline-code">boxNames</code> æ˜ å°„ä¸­ã€‚éœ€è¦ <code class="inline-code">boxAddress</code> ä½œä¸ºè¾“å…¥ã€‚åœ¨ <code class="inline-code">boxNames</code> æ˜ å°„ä¸­æŸ¥æ‰¾åœ°å€ï¼Œå¹¶è¿”å›ç”¨æˆ·è®¾ç½®çš„ä»»ä½•å­—ç¬¦ä¸²ã€‚å¦‚æœæ²¡æœ‰ç»™å‡ºåç§°ï¼ŒSolidity åªè¿”å›<strong>é»˜è®¤çš„ç©ºå­—ç¬¦ä¸² <code class="inline-code">""</code></strong>ã€‚ä½¿ç”¨åœºæ™¯ï¼šå¯¹äºæ”¹è¿› UI éå¸¸æœ‰ç”¨â€”â€”ä½ å¯ä»¥æ˜¾ç¤ºæœ‰æ„ä¹‰çš„åç§°ï¼Œå¦‚"ä¸»é‡‘åº“"æˆ–"çˆ¸çˆ¸çš„å‚¨ç‰©æŸœ"ï¼Œè€Œä¸æ˜¯æ˜¾ç¤ºåŸå§‹åœ°å€ã€‚</p>
                            
                            <p><strong>getBoxInfo() â€” ä¸€æ¬¡è°ƒç”¨è·å–å®Œæ•´ä¿¡æ¯</strong></p>
                            <p>è¿™æ˜¯ç”¨äºè·å–å…³äºå­˜æ¬¾ç®±çš„æ¯ä¸ªé‡è¦å…ƒæ•°æ®çš„<strong>ä¸€ä½“åŒ–è¾…åŠ©å‡½æ•°</strong>ã€‚æ¥å£è½¬æ¢ï¼šæˆ‘ä»¬è·å–åŸå§‹çš„å­˜æ¬¾ç®±åœ°å€ï¼Œå¹¶<strong>å°†å…¶è½¬æ¢ä¸º IDepositBox æ¥å£</strong>ã€‚è¿™è®©æˆ‘ä»¬å¯ä»¥å®‰å…¨åœ°è°ƒç”¨ <code class="inline-code">getBoxType()</code>ã€<code class="inline-code">getOwner()</code> å’Œ <code class="inline-code">getDepositTime()</code> å‡½æ•°ï¼Œè€Œæ— éœ€ç¡®åˆ‡çŸ¥é“å®ƒæ˜¯å“ªç§ç±»å‹çš„å­˜æ¬¾ç®±ï¼ˆåŸºç¡€å‹ã€é«˜çº§å‹ã€æ—¶é—´é”å‹ç­‰ï¼‰ã€‚åªè¦åˆçº¦å®ç°äº†è¯¥æ¥å£ï¼Œè¿™äº›è°ƒç”¨å°±ä¼šèµ·ä½œç”¨ã€‚è¿”å›æ‰€æœ‰å…³é”®ç»†èŠ‚ï¼š<code class="inline-code">box.getBoxType()</code> â€” è°ƒç”¨å­åˆçº¦çš„å®ç°ï¼Œå¹¶è¿”å›å¦‚ä¸‹å­—ç¬¦ä¸²ï¼š<code class="inline-code">"Basic"</code>ã€<code class="inline-code">"Premium"</code> æˆ– <code class="inline-code">"TimeLocked"</code>ã€‚<code class="inline-code">box.getOwner()</code> â€” è¿”å›å­˜æ¬¾ç®±çš„å½“å‰æ‰€æœ‰è€…ã€‚<code class="inline-code">box.getDepositTime()</code> â€” è¿”å›å­˜æ¬¾ç®±éƒ¨ç½²æ—¶çš„åŒºå—æ—¶é—´æˆ³ã€‚<code class="inline-code">boxNames[boxAddress]</code> â€” ä» <code class="inline-code">VaultManager</code> å†…éƒ¨çš„ <code class="inline-code">boxNames</code> æ˜ å°„ä¸­æå–è‡ªå®šä¹‰åç§°ï¼ˆå¦‚æœæœ‰ï¼‰ã€‚ä¸ºä»€ä¹ˆè¿™ä¸ªå‡½æ•°æœ‰ç”¨ï¼šä½ å¯ä»¥åœ¨<strong>ä¸€æ¬¡</strong>è°ƒç”¨ä¸­è·å¾—æ‰€æœ‰å†…å®¹ï¼Œè€Œä¸æ˜¯è¿›è¡Œ<strong>å››æ¬¡å•ç‹¬è°ƒç”¨</strong>ï¼šå­˜æ¬¾ç®±ç±»å‹ã€æ‰€æœ‰è€…ã€åˆ›å»ºæ—¶é—´ã€è‡ªå®šä¹‰åç§°ã€‚ä½¿ç”¨åœºæ™¯ï¼šæ„å»ºä¸€ä¸ªè¡¨æ ¼æˆ–å¡ç‰‡ UIï¼Œé€šè¿‡ä¸€æ¬¡è°ƒç”¨æ˜¾ç¤ºæ¯ä¸ªç”¨æˆ·å­˜æ¬¾ç®±çš„å®Œæ•´æ‘˜è¦â€”â€”å¯¹äºé«˜æ•ˆçš„å‰ç«¯æ¸²æŸ“éå¸¸æœ‰ç”¨ã€‚</p>
                        </div>
                        
                        <h2>æ€»ç»“ â€” ä¸€ä¸ªæ„å»ºå¾—å½“çš„æ¨¡å—åŒ–é‡‘åº“ç³»ç»Ÿ</h2>
                        
                        <p>è¿™å°±æ˜¯<strong>é‡‘åº“ç³»ç»Ÿ</strong>çš„å…¨éƒ¨å†…å®¹ã€‚æˆ‘ä»¬ä»ä¸€ä¸ªç®€å•çš„æƒ³æ³•å¼€å§‹â€”â€”è®©ç”¨æˆ·åœ¨é“¾ä¸Šå®‰å…¨åœ°å­˜å‚¨ç§˜å¯†â€”â€”æœ€ç»ˆä½¿ç”¨ Solidity æœ€å¼ºå¤§çš„æ¦‚å¿µæ„å»ºäº†ä¸€ä¸ª<strong>æ¨¡å—åŒ–</strong>ã€<strong>å¯æ‰©å±•</strong>ä¸”<strong>ç»“æ„è‰¯å¥½</strong>çš„æ™ºèƒ½åˆçº¦ç³»ç»Ÿï¼š</p>
                        <ul>
                            <li><strong>æ¥å£</strong> ä¸ºæ‰€æœ‰é‡‘åº“å®šä¹‰é€šç”¨æ ‡å‡†</li>
                            <li><strong>æŠ½è±¡åˆçº¦</strong> æä¾›äº†å¯å¤ç”¨çš„é€»è¾‘ï¼Œå¹¶ç¡®ä¿å®ç°çš„ä¸€è‡´æ€§</li>
                            <li><strong>ç»§æ‰¿</strong> åœ¨å…±äº«çš„åº•å±‚æ¶æ„ä¹‹ä¸Šï¼Œæ„å»ºäº†å¤šç§ç±»å‹çš„é‡‘åº“ï¼ˆåŸºç¡€å‹ã€é«˜çº§å‹ã€æ—¶é—´é”å‹ï¼‰</li>
                            <li><strong>ç®¡ç†å™¨åˆçº¦</strong> æ¥æ§åˆ¶é‡‘åº“çš„åˆ›å»ºã€å‘½åå’Œæ‰€æœ‰æƒ</li>
                        </ul>
                        
                        <blockquote>
                            <p>æ‚¨åˆšåˆšæ„å»ºçš„é¡¹ç›®ï¼Œç²¾å‡†åæ˜ äº†ç°å®ä¸–ç•Œæ™ºèƒ½åˆçº¦ç³»ç»Ÿçš„æ ¸å¿ƒæ¶æ„ã€‚Compoundã€Aave å’Œ OpenZeppelin ç­‰ä¸»æµå¹³å°å‡é‡‡ç”¨ä¸æ­¤åŒæºçš„åˆ†å±‚è®¾è®¡â€”â€”é€šè¿‡<strong>æ¥å£å®ç°æ ‡å‡†åŒ–</strong>ï¼Œå€ŸåŠ©<strong>æŠ½è±¡åŸºç¡€åˆçº¦è¾¾æˆä»£ç å¤ç”¨</strong>ï¼Œå¹¶åœ¨å…¶ä¸Šæ„å»º<strong>æ¸…æ™°æ¨¡å—åŒ–çš„ä¸šåŠ¡åˆçº¦</strong>ã€‚æ‰€ä»¥ç°åœ¨ï¼Œä½ ä¸ä»…ç†è§£äº†<strong>ç»§æ‰¿çš„å·¥ä½œåŸç†</strong>ï¼Œè¿˜çœ‹åˆ°äº†å¦‚ä½•æ„å»ºéšç€äº§å“å¢é•¿è€Œæ‰©å±•çš„å¤§å‹ç³»ç»Ÿç»“æ„ã€‚</p>
                        </blockquote>
                        
                        <div class="signature">
                            <p>çœŸè¯šçš„ï¼Œ</p>
                            <p>Sneha</p>
                            <p style="margin-top: 10px; font-size: 1.5rem; opacity: 0.8;">è¯‘è€…ï¼šHe Shadow</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/languages/solidity.min.js"></script>
    <script>
        hljs.highlightAll();
        
        // å¹³æ»‘æ»šåŠ¨
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            });
        });
            
        // Snehaçš„ä¸€å°æ¥ä¿¡æ¨¡å—åŠŸèƒ½
        document.addEventListener('DOMContentLoaded', function() {
            const envelopeContainer = document.getElementById('envelope-container');
            const answerModal = document.getElementById('answer-modal');
            const closeLetter = document.getElementById('close-letter');
            
            if (!envelopeContainer || !answerModal || !closeLetter) {
                return; // å¦‚æœå…ƒç´ ä¸å­˜åœ¨ï¼Œç›´æ¥è¿”å›
            }
            
            // ç‚¹å‡»ä¿¡å°æ‰“å¼€å¼¹çª—
            envelopeContainer.addEventListener('click', function() {
                envelopeContainer.classList.add('open');
                
                // å»¶è¿Ÿæ˜¾ç¤ºå¼¹çª—ï¼Œè®©ä¿¡å°ç¿»è½¬åŠ¨ç”»å®Œæˆ
                setTimeout(function() {
                    answerModal.style.display = 'flex';
                    setTimeout(function() {
                        answerModal.classList.add('open');
                    }, 50);
                }, 400);
            });
            
            // å…³é—­å¼¹çª—
            closeLetter.addEventListener('click', function() {
                answerModal.classList.remove('open');
                
                setTimeout(function() {
                    answerModal.style.display = 'none';
                    envelopeContainer.classList.remove('open');
                }, 600);
            });
            
            // ç‚¹å‡»å¼¹çª—å¤–éƒ¨å…³é—­
            answerModal.addEventListener('click', function(e) {
                if (e.target === answerModal) {
                    closeLetter.click();
                }
            });
        });
    </script>
</body>
</html>